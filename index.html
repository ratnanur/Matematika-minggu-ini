<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Matematika SMKN 10 Jeneponto</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .progress-bar { transition: width 0.5s ease-in-out; }
        .video-placeholder { background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%); background-size: 20px 20px; background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen gradient-bg flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-black mb-2">SMKN 10 Jeneponto</h1>
                <p class="text-black">Aplikasi Pembelajaran Matematika</p>
                <div class="w-20 h-1 bg-purple-500 mx-auto mt-4 rounded"></div>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-black mb-2">Nama Lengkap</label>
                    <input type="text" id="fullName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Masukkan nama lengkap">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-black mb-2">Kelas</label>
                    <select id="userClass" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">Pilih Kelas</option>
                        <option value="XI">Kelas XI</option>
                        <option value="XII">Kelas XII</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-black mb-2">Program Keahlian</label>
                    <select id="userProgram" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        <option value="">Pilih Program Keahlian</option>
                        <option value="TJKT">TJKT (Teknik Jaringan Komputer dan Telekomunikasi)</option>
                        <option value="MPLB">MPLB (Manajemen Perkantoran dan Layanan Bisnis)</option>
                        <option value="BDP">BDP (Bisnis Daring dan Pemasaran)</option>
                        <option value="ATU">ATU (Agribisnis Ternak Unggas)</option>
                        <option value="SEMUA">Semua Program Keahlian</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-black mb-2">Tipe Akses</label>
                    <select id="userType" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" onchange="togglePasswordField()">
                        <option value="">Pilih Tipe Akses</option>
                        <option value="student">Siswa</option>
                        <option value="teacher">Guru</option>
                    </select>
                </div>
                
                <div id="teacherPasswordField" class="hidden">
                    <label class="block text-sm font-medium text-black mb-2">Password Guru</label>
                    <input type="password" id="teacherPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Masukkan password guru">
                    <p class="text-xs text-gray-500 mt-1">Password khusus untuk akses guru</p>
                </div>
                
                <button type="submit" class="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-300">
                    Masuk Aplikasi
                </button>
            </form>
            
            <div class="text-center mt-6 pt-4 border-t border-gray-200">
                <p class="text-sm text-black font-medium">Dibuat oleh:</p>
                <p class="text-lg font-bold text-black">Ratna Nuranriani Syam, S.Pd.,Gr.</p>
                <p class="text-xs text-gray-600 mt-1">Guru Matematika SMKN 10 Jeneponto</p>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden min-h-screen bg-gray-50">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <div class="flex items-center">
                        <h1 class="text-2xl font-bold text-gray-900">Matematika SMKN 10</h1>
                        <span id="userInfo" class="ml-4 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm"></span>
                    </div>
                    <button onclick="logout()" class="text-gray-600 hover:text-gray-900 font-medium">Keluar</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex space-x-8">
                    <button onclick="showSection('dashboard')" class="nav-btn py-4 px-2 border-b-2 border-purple-500 text-purple-600 font-medium">Dashboard</button>
                    <button onclick="showSection('materials')" class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700">Materi</button>
                    <button onclick="showSection('exercises')" class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700">Latihan</button>
                    <button id="progressTab" onclick="showSection('progress')" class="nav-btn py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hidden">Progress Siswa</button>
                </div>
            </div>
        </nav>

        <!-- Dashboard Section -->
        <div id="dashboard" class="section max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Selamat Datang!</h2>
                <p class="text-gray-600">Semester Ganjil - Tahun Ajaran 2025/2026</p>
            </div>

            <!-- Quick Stats -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-blue-100 rounded-lg">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Total Materi</p>
                            <p id="totalMaterials" class="text-2xl font-bold text-gray-900">10</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-green-100 rounded-lg">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Materi Selesai</p>
                            <p id="completedMaterials" class="text-2xl font-bold text-gray-900">0</p>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                    <div class="flex items-center">
                        <div class="p-3 bg-purple-100 rounded-lg">
                            <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <div class="ml-4">
                            <p class="text-sm font-medium text-gray-600">Rata-rata Nilai</p>
                            <p id="averageScore" class="text-2xl font-bold text-gray-900">-</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="bg-white rounded-xl shadow-sm p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Aktivitas Terbaru</h3>
                <div id="recentActivity" class="space-y-3">
                    <p class="text-gray-500 text-center py-8">Belum ada aktivitas. Mulai belajar sekarang!</p>
                </div>
            </div>
        </div>

        <!-- Materials Section -->
        <div id="materials" class="section hidden max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Materi Pembelajaran</h2>
                <p class="text-gray-600">Pilih kelas untuk melihat materi yang tersedia</p>
            </div>

            <!-- Class Selection -->
            <div id="classSelection" class="flex space-x-4 mb-8">
                <button id="btnClassXI" onclick="showClassMaterials('XI')" class="class-btn bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-300">Kelas XI</button>
                <button id="btnClassXII" onclick="showClassMaterials('XII')" class="class-btn bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition duration-300">Kelas XII</button>
            </div>

            <!-- Class XI Materials -->
            <div id="materialsXI" class="class-materials">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Bab 1 -->
                    <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bab 1: Bunga Majemuk dan Anuitas</h3>
                        <div class="space-y-3">
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab1a')">
                                <h4 class="font-semibold text-gray-800">A. Bunga Tunggal dan Majemuk</h4>
                                <p class="text-sm text-gray-600 mt-1">Konsep dasar bunga dalam kehidupan sehari-hari</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab1b')">
                                <h4 class="font-semibold text-gray-800">B. Anuitas</h4>
                                <p class="text-sm text-gray-600 mt-1">Perhitungan cicilan dan investasi</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bab 2 -->
                    <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bab 2: Fungsi Komposisi dan Invers</h3>
                        <div class="space-y-3">
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab2a')">
                                <h4 class="font-semibold text-gray-800">A. Fungsi Komposisi</h4>
                                <p class="text-sm text-gray-600 mt-1">Menggabungkan fungsi dalam aplikasi nyata</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab2b')">
                                <h4 class="font-semibold text-gray-800">B. Fungsi Invers</h4>
                                <p class="text-sm text-gray-600 mt-1">Membalik proses fungsi</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bab 3 -->
                    <div class="bg-white rounded-xl shadow-sm p-6 card-hover lg:col-span-2">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bab 3: Matriks</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab3a')">
                                <h4 class="font-semibold text-gray-800">A. Notasi Matriks</h4>
                                <p class="text-sm text-gray-600 mt-1">Pengenalan dan notasi matriks</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab3b')">
                                <h4 class="font-semibold text-gray-800">B. Operasi Matriks</h4>
                                <p class="text-sm text-gray-600 mt-1">Penjumlahan, pengurangan, perkalian</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XI', 'bab3c')">
                                <h4 class="font-semibold text-gray-800">C. Determinan dan Invers</h4>
                                <p class="text-sm text-gray-600 mt-1">Menghitung determinan dan invers matriks</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Class XII Materials -->
            <div id="materialsXII" class="class-materials hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Bab 1 -->
                    <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bab 1: Transformasi Fungsi</h3>
                        <div class="space-y-3">
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XII', 'bab1a')">
                                <h4 class="font-semibold text-gray-800">A. Transformasi Fungsi</h4>
                                <p class="text-sm text-gray-600 mt-1">Translasi, refleksi, dan dilatasi fungsi</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XII', 'bab1b')">
                                <h4 class="font-semibold text-gray-800">B. Komposisi Transformasi</h4>
                                <p class="text-sm text-gray-600 mt-1">Menggabungkan beberapa transformasi</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bab 2 -->
                    <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Bab 2: Lingkaran</h3>
                        <div class="space-y-3">
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XII', 'bab2a')">
                                <h4 class="font-semibold text-gray-800">A. Persamaan Lingkaran</h4>
                                <p class="text-sm text-gray-600 mt-1">Bentuk umum dan standar persamaan lingkaran</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                            <div class="material-item p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100" onclick="openMaterial('XII', 'bab2b')">
                                <h4 class="font-semibold text-gray-800">B. Garis Singgung Lingkaran</h4>
                                <p class="text-sm text-gray-600 mt-1">Persamaan garis singgung lingkaran</p>
                                <div class="flex items-center mt-2">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Video Interaktif</span>
                                    <span class="text-xs text-gray-500 ml-2">5 Soal Latihan</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exercises Section -->
        <div id="exercises" class="section hidden max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Latihan Soal</h2>
                <p class="text-gray-600">Kerjakan latihan soal untuk menguji pemahaman Anda</p>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6">
                <p class="text-gray-500 text-center py-8">Pilih materi dari menu "Materi" untuk mengakses latihan soal</p>
            </div>
        </div>

        <!-- Progress Section (Teacher Only) -->
        <div id="progress" class="section hidden max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Progress Siswa</h2>
                <p class="text-gray-600">Pantau kemajuan belajar siswa</p>
            </div>

            <!-- Filter and Download Section (Teacher Only) -->
            <div id="teacherControls" class="bg-white rounded-xl shadow-sm p-6 mb-6">
                <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0">
                    <!-- Filters -->
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Filter Kelas</label>
                            <select id="filterClass" onchange="filterStudentProgress()" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Semua Kelas</option>
                                <option value="XI">Kelas XI</option>
                                <option value="XII">Kelas XII</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Filter Program Keahlian</label>
                            <select id="filterProgram" onchange="filterStudentProgress()" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="">Semua Program</option>
                                <option value="TJKT">TJKT</option>
                                <option value="MPLB">MPLB</option>
                                <option value="BDP">BDP</option>
                                <option value="ATU">ATU</option>
                                <option value="SEMUA">Semua Program Keahlian</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Download Buttons -->
                    <div class="flex space-x-2">
                        <button onclick="downloadProgressPDF()" class="bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition duration-300 flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            <span>Download PDF</span>
                        </button>
                        <button onclick="downloadProgressExcel()" class="bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition duration-300 flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            <span>Download Excel</span>
                        </button>
                    </div>
                </div>
                
                <!-- Summary Statistics -->
                <div id="progressSummary" class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <p class="text-2xl font-bold text-blue-600" id="totalStudents">0</p>
                        <p class="text-sm text-blue-600">Total Siswa</p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <p class="text-2xl font-bold text-green-600" id="activeStudents">0</p>
                        <p class="text-sm text-green-600">Siswa Aktif</p>
                    </div>
                    <div class="bg-purple-50 p-4 rounded-lg">
                        <p class="text-2xl font-bold text-purple-600" id="avgCompletion">0%</p>
                        <p class="text-sm text-purple-600">Rata-rata Penyelesaian</p>
                    </div>
                    <div class="bg-orange-50 p-4 rounded-lg">
                        <p class="text-2xl font-bold text-orange-600" id="avgScore">0</p>
                        <p class="text-sm text-orange-600">Rata-rata Nilai</p>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-6">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama Siswa</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Kelas</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Program Keahlian</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Materi Selesai</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progress</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rata-rata Nilai</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Terakhir Aktif</th>
                            </tr>
                        </thead>
                        <tbody id="studentProgressTable" class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td colspan="7" class="px-6 py-4 text-center text-gray-500">Belum ada data siswa</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Material Detail Modal -->
    <div id="materialModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h3 id="materialTitle" class="text-2xl font-bold text-gray-900"></h3>
                    <button onclick="closeMaterial()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <!-- Video Section -->
                <div class="mb-8">
                    <h4 class="text-lg font-semibold text-gray-900 mb-4">üìπ Video Pembelajaran Interaktif</h4>
                    <div class="bg-gradient-to-br from-purple-100 to-blue-100 rounded-lg p-6 mb-4">
                        <div class="text-center">
                            <div class="inline-flex items-center justify-center w-20 h-20 bg-white rounded-full shadow-lg mb-4">
                                <svg class="w-10 h-10 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                            <h5 class="text-xl font-bold text-gray-800 mb-2">Video Penjelasan Materi</h5>
                            <p class="text-gray-600 mb-4">Tonton video penjelasan lengkap dengan contoh aplikasi dalam kehidupan sehari-hari</p>
                            <div id="videoLinks" class="space-y-2 mb-4">
                                <!-- Video links will be loaded here -->
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center space-x-4">
                        <button onclick="markVideoWatched()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition duration-300 font-semibold">
                            ‚úì Tandai Video Selesai Ditonton
                        </button>
                        <button onclick="openStudyLinks()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300 font-semibold">
                            üìö Materi Tambahan
                        </button>
                    </div>
                </div>

                <!-- Material Content -->
                <div id="materialContent" class="mb-8">
                    <!-- Content will be loaded here -->
                </div>

                <!-- Exercise Section -->
                <div id="exerciseSection">
                    <h4 class="text-lg font-semibold text-gray-900 mb-4">üìù Latihan Soal (Total Skor: 100)</h4>
                    <div id="exerciseContent">
                        <!-- Exercise content will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Exercise Results Modal -->
    <div id="resultsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-60 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-gray-900">üìä Hasil Latihan</h3>
                    <button onclick="closeResults()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <!-- Score Summary -->
                <div id="scoreSummary" class="mb-8">
                    <!-- Score summary will be loaded here -->
                </div>

                <!-- Detailed Results -->
                <div id="detailedResults">
                    <!-- Detailed results will be loaded here -->
                </div>

                <!-- Action Buttons -->
                <div id="resultsActionButtons" class="flex justify-center space-x-4 mt-8">
                    <button onclick="closeResults()" class="bg-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-300">
                        ‚úì Selesai
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let userProgress = {};
        let currentMaterial = null;
        let currentExercise = null;
        let exerciseAnswers = {};
        let allStudentData = [];

        // Material data
        const materialData = {
            'XI': {
                'bab1a': {
                    title: 'Bunga Tunggal dan Majemuk',
                    learningObjectives: [
                        'Memahami konsep bunga tunggal dan bunga majemuk dalam kehidupan sehari-hari',
                        'Menghitung bunga tunggal menggunakan rumus I = P √ó r √ó t',
                        'Menghitung bunga majemuk menggunakan rumus A = P(1 + r)^t',
                        'Membandingkan keuntungan bunga tunggal dan bunga majemuk',
                        'Menerapkan konsep bunga dalam masalah tabungan, investasi, dan pinjaman'
                    ],
                    videoLinks: [
                        { title: "Konsep Dasar Bunga Tunggal", url: "https://www.youtube.com/watch?v=8Nt65_FfNJc", embed: "https://www.youtube.com/embed/8Nt65_FfNJc" },
                        { title: "Bunga Majemuk dalam Investasi", url: "https://www.youtube.com/watch?v=P8W-g5W1G78", embed: "https://www.youtube.com/embed/P8W-g5W1G78" },
                        { title: "Aplikasi Bunga dalam Kehidupan", url: "https://www.youtube.com/watch?v=WcV8SEzd4RU", embed: "https://www.youtube.com/embed/WcV8SEzd4RU" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Bunga Majemuk", url: "https://www.khanacademy.org/economics-finance-domain/core-finance/interest-and-debt/compound-interest-tutorial/v/introduction-to-compound-interest" },
                        { title: "Ruangguru - Matematika Keuangan", url: "https://www.ruangguru.com/blog/matematika-kelas-11-bunga-majemuk-dan-anuitas" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Konsep Bunga dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Bunga adalah imbalan yang diberikan atas penggunaan uang dalam jangka waktu tertentu. Dalam kehidupan sehari-hari, kita sering menemui konsep bunga pada:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Tabungan di bank</li>
                                <li>Pinjaman atau kredit</li>
                                <li>Investasi</li>
                                <li>Cicilan kendaraan atau rumah</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Bunga Tunggal</h6>
                            <p class="mb-2">Bunga yang dihitung hanya dari modal awal saja.</p>
                            <p class="bg-blue-50 p-3 rounded mb-4"><strong>Rumus:</strong> I = P √ó r √ó t<br>
                            Dimana: I = bunga, P = modal awal, r = suku bunga, t = waktu</p>
                            
                            <h6 class="font-semibold mb-2">Bunga Majemuk</h6>
                            <p class="mb-2">Bunga yang dihitung dari modal awal ditambah bunga yang telah diperoleh sebelumnya.</p>
                            <p class="bg-blue-50 p-3 rounded mb-4"><strong>Rumus:</strong> A = P(1 + r)<sup>t</sup><br>
                            Dimana: A = jumlah akhir, P = modal awal, r = suku bunga, t = waktu</p>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Andi menabung Rp 1.000.000 dengan bunga tunggal 8% per tahun selama 3 tahun. Berapa bunga yang diperoleh?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Diketahui: P = Rp 1.000.000, r = 8% = 0,08, t = 3 tahun</p>
                                <p>I = P √ó r √ó t = 1.000.000 √ó 0,08 √ó 3 = Rp 240.000</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Sari menabung Rp 2.000.000 dengan bunga majemuk 6% per tahun selama 2 tahun. Berapa jumlah akhir tabungan?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Diketahui: P = Rp 2.000.000, r = 6% = 0,06, t = 2 tahun</p>
                                <p>A = P(1 + r)<sup>t</sup> = 2.000.000(1 + 0,06)<sup>2</sup></p>
                                <p>A = 2.000.000 √ó (1,06)<sup>2</sup> = 2.000.000 √ó 1,1236 = Rp 2.247.200</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Aplikasi dalam Kehidupan:</h6>
                                <p>Bunga majemuk sangat menguntungkan untuk investasi jangka panjang karena ada efek "bunga berbunga". Semakin lama periode investasi, semakin besar keuntungan yang diperoleh.</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Sari menabung Rp 2.000.000 dengan bunga tunggal 8% per tahun. Berapa bunga yang diperoleh setelah 2 tahun?",
                            options: ["Rp 320.000", "Rp 300.000", "Rp 280.000", "Rp 260.000", "Rp 240.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Modal Rp 5.000.000 dibungakan dengan bunga majemuk 6% per tahun. Berapa jumlah uang setelah 2 tahun?",
                            options: ["Rp 5.618.000", "Rp 5.600.000", "Rp 5.580.000", "Rp 5.560.000", "Rp 5.500.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Pak Budi meminjam uang Rp 10.000.000 dengan bunga tunggal 12% per tahun selama 18 bulan. Berapa total yang harus dibayar?",
                            options: ["Rp 11.800.000", "Rp 11.600.000", "Rp 11.400.000", "Rp 11.200.000", "Rp 11.000.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Investasi Rp 8.000.000 dengan bunga majemuk 10% per tahun. Setelah berapa tahun investasi menjadi lebih dari Rp 10.000.000?",
                            options: ["3 tahun", "2,5 tahun", "2 tahun", "1,5 tahun", "1 tahun"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika bunga tunggal Rp 600.000 diperoleh dari modal Rp 4.000.000 selama 3 tahun, berapa suku bunga per tahun?",
                            options: ["5%", "4%", "6%", "7%", "8%"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab1b': {
                    title: 'Anuitas',
                    learningObjectives: [
                        'Memahami konsep anuitas sebagai pembayaran berkala yang sama besar',
                        'Menghitung besar anuitas menggunakan rumus A = P √ó [r(1+r)^n]/[(1+r)^n - 1]',
                        'Menerapkan konsep anuitas dalam perhitungan cicilan KPR dan kendaraan',
                        'Menghitung tabungan pensiun dan investasi berkala',
                        'Menganalisis keuntungan dan kerugian sistem anuitas dalam kehidupan sehari-hari'
                    ],
                    videoLinks: [
                        { title: "Konsep Anuitas dan Aplikasinya", url: "https://www.youtube.com/watch?v=fvGIEh9QdCk", embed: "https://www.youtube.com/embed/fvGIEh9QdCk" },
                        { title: "Perhitungan Cicilan KPR", url: "https://www.youtube.com/watch?v=Rm6UojRKCCo", embed: "https://www.youtube.com/embed/Rm6UojRKCCo" },
                        { title: "Anuitas dalam Investasi", url: "https://www.youtube.com/watch?v=TgBrjjLyNSU", embed: "https://www.youtube.com/embed/TgBrjjLyNSU" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Anuitas", url: "https://www.khanacademy.org/economics-finance-domain/core-finance/interest-and-debt/present-value/v/introduction-to-present-value" },
                        { title: "Ruangguru - Anuitas", url: "https://www.ruangguru.com/blog/matematika-kelas-11-anuitas" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Konsep Anuitas dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Anuitas adalah serangkaian pembayaran yang sama besar yang dilakukan secara berkala dalam jangka waktu tertentu. Contoh anuitas dalam kehidupan sehari-hari:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Cicilan rumah (KPR)</li>
                                <li>Cicilan kendaraan</li>
                                <li>Premi asuransi</li>
                                <li>Tabungan pensiun</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Rumus Anuitas</h6>
                            <div class="bg-blue-50 p-4 rounded mb-4">
                                <p class="mb-2"><strong>Rumus Anuitas:</strong></p>
                                <div class="text-center bg-white p-3 rounded border mb-3">
                                    <p class="text-lg">A = P √ó <span class="inline-block border-b border-gray-400 px-1">r(1+r)<sup>n</sup></span></p>
                                    <p class="text-lg mt-1 ml-12">(1+r)<sup>n</sup> - 1</p>
                                </div>
                                <p><strong>Dimana:</strong></p>
                                <ul class="list-disc pl-6 text-sm">
                                    <li>A = anuitas (cicilan per periode)</li>
                                    <li>P = pinjaman pokok (jumlah pinjaman)</li>
                                    <li>r = suku bunga per periode</li>
                                    <li>n = jumlah periode</li>
                                </ul>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Tentukan ordo dan elemen a‚ÇÇ‚ÇÉ dari matriks A berikut!</p>
                                <div class="text-center my-4">
                                    <p class="mb-2"><strong>Matriks A:</strong></p>
                                    <div class="inline-block bg-white p-4 rounded border-2 border-blue-300">
                                        A = <span class="text-2xl">[</span>
                                        <table class="inline-table mx-2 border-collapse">
                                            <tr>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-blue-50">1</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-blue-50">2</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-yellow-100">3</td>
                                            </tr>
                                            <tr>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-blue-50">4</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-blue-50">5</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-yellow-100">6</td>
                                            </tr>
                                        </table>
                                        <span class="text-2xl">]</span>
                                    </div>
                                </div>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>‚Ä¢ Ordo matriks A = 2√ó3 (2 baris, 3 kolom)</p>
                                <p>‚Ä¢ Elemen a‚ÇÇ‚ÇÉ = elemen baris ke-2, kolom ke-3 = <span class="bg-yellow-200 px-2 py-1 rounded font-bold">6</span></p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Sebutkan jenis matriks B berikut!</p>
                                <div class="text-center my-4">
                                    <p class="mb-2"><strong>Matriks B:</strong></p>
                                    <div class="inline-block bg-white p-4 rounded border-2 border-green-300">
                                        B = <span class="text-2xl">[</span>
                                        <table class="inline-table mx-2 border-collapse">
                                            <tr>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-green-100">3</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-red-100">0</td>
                                            </tr>
                                            <tr>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-red-100">0</td>
                                                <td class="w-12 h-12 text-center text-lg font-bold border border-gray-400 bg-green-100">5</td>
                                            </tr>
                                        </table>
                                        <span class="text-2xl">]</span>
                                    </div>
                                </div>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>‚Ä¢ Matriks B adalah <strong>matriks diagonal</strong> karena elemen di luar diagonal utama (yang berwarna merah) bernilai 0</p>
                                <p>‚Ä¢ Juga merupakan <strong>matriks persegi</strong> karena jumlah baris = jumlah kolom = 2</p>
                                <p>‚Ä¢ Diagonal utama (yang berwarna hijau): 3 dan 5</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p class="mb-3">Ibu Sinta mengambil KPR Rp 200.000.000 dengan bunga 9% per tahun selama 10 tahun. Cicilan per bulannya:</p>
                                <div class="bg-white p-3 rounded border space-y-2">
                                    <p><strong>Diketahui:</strong></p>
                                    <ul class="list-disc pl-6 text-sm mb-3">
                                        <li>P = Rp 200.000.000</li>
                                        <li>r = 9%/12 = 0,75% = 0,0075 per bulan</li>
                                        <li>n = 10 √ó 12 = 120 bulan</li>
                                    </ul>
                                    <p><strong>Perhitungan:</strong></p>
                                    <p>A = 200.000.000 √ó <span class="inline-block border-b border-gray-400 px-1">0,0075(1,0075)<sup>120</sup></span></p>
                                    <p class="ml-16">(1,0075)<sup>120</sup> - 1</p>
                                    <p>A = 200.000.000 √ó <span class="inline-block border-b border-gray-400 px-1">0,0075 √ó 2,451</span></p>
                                    <p class="ml-16">2,451 - 1</p>
                                    <p>A = 200.000.000 √ó <span class="inline-block border-b border-gray-400 px-1">0,01838</span> = <strong>Rp 2.531.000</strong></p>
                                    <p class="ml-16">1,451</p>
                                </div>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Pinjaman Rp 50.000.000 dengan bunga 12% per tahun, diangsur selama 5 tahun. Berapa besar anuitas per tahun?",
                            options: ["Rp 13.870.000", "Rp 13.500.000", "Rp 13.200.000", "Rp 12.800.000", "Rp 12.500.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Cicilan motor Rp 500.000 per bulan selama 3 tahun dengan bunga 18% per tahun. Berapa harga motor tersebut?",
                            options: ["Rp 15.200.000", "Rp 15.000.000", "Rp 14.800.000", "Rp 14.500.000", "Rp 14.200.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Tabungan pensiun Rp 1.000.000 per bulan selama 20 tahun dengan bunga 8% per tahun. Berapa total tabungan di akhir periode?",
                            options: ["Rp 589.000.000", "Rp 580.000.000", "Rp 570.000.000", "Rp 560.000.000", "Rp 550.000.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "KPR Rp 300.000.000 dengan cicilan Rp 3.000.000 per bulan dan bunga 10% per tahun. Berapa lama masa cicilan?",
                            options: ["12 tahun", "11 tahun", "10 tahun", "9 tahun", "8 tahun"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Seseorang menabung Rp 800.000 per bulan selama 5 tahun dengan bunga 7% per tahun. Berapa total tabungan di akhir periode?",
                            options: ["Rp 56.800.000", "Rp 55.200.000", "Rp 53.600.000", "Rp 52.000.000", "Rp 50.400.000"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab2a': {
                    title: 'Fungsi Komposisi',
                    learningObjectives: [
                        'Memahami konsep fungsi komposisi sebagai penggabungan dua atau lebih fungsi',
                        'Menentukan hasil fungsi komposisi (f ‚àò g)(x) = f(g(x))',
                        'Membedakan urutan komposisi fungsi dan pengaruhnya terhadap hasil',
                        'Menerapkan fungsi komposisi dalam masalah konversi satuan dan diskon bertingkat',
                        'Menganalisis sifat-sifat fungsi komposisi dalam konteks nyata'
                    ],
                    videoLinks: [
                        { title: "Konsep Fungsi Komposisi", url: "https://www.youtube.com/watch?v=sfHdyjW5o_s", embed: "https://www.youtube.com/embed/sfHdyjW5o_s" },
                        { title: "Cara Menghitung Fungsi Komposisi", url: "https://www.youtube.com/watch?v=YNstP0ESndM", embed: "https://www.youtube.com/embed/YNstP0ESndM" },
                        { title: "Aplikasi Fungsi Komposisi", url: "https://www.youtube.com/watch?v=4EX0ej_JgAo", embed: "https://www.youtube.com/embed/4EX0ej_JgAo" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Fungsi Komposisi", url: "https://www.khanacademy.org/math/algebra2/x2ec2f6f830c9fb89:functions/x2ec2f6f830c9fb89:composing/v/function-composition" },
                        { title: "Ruangguru - Fungsi Komposisi", url: "https://www.ruangguru.com/blog/matematika-kelas-11-fungsi-komposisi" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Fungsi Komposisi dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Fungsi komposisi adalah penggabungan dua atau lebih fungsi. Dalam kehidupan sehari-hari, kita sering menggunakan proses bertahap yang merupakan komposisi fungsi:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Proses produksi barang (bahan baku ‚Üí setengah jadi ‚Üí jadi)</li>
                                <li>Sistem penilaian (nilai mentah ‚Üí nilai standar ‚Üí grade)</li>
                                <li>Konversi mata uang (Rupiah ‚Üí Dollar ‚Üí Euro)</li>
                                <li>Perhitungan diskon bertingkat</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Notasi Fungsi Komposisi</h6>
                            <p class="bg-blue-50 p-3 rounded mb-4"><strong>(f ‚àò g)(x) = f(g(x))</strong><br>
                            Dibaca: "f komposisi g dari x" atau "f bundaran g dari x"</p>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Diketahui f(x) = 2x + 1 dan g(x) = x¬≤ - 3. Tentukan (f ‚àò g)(2)!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>(f ‚àò g)(2) = f(g(2)) = f(2¬≤ - 3) = f(4 - 3) = f(1) = 2(1) + 1 = 3</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Fungsi konversi: C(F) = 5/9(F-32) dan K(C) = C + 273. Suhu 77¬∞F dalam Kelvin adalah?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>(K ‚àò C)(77) = K(C(77)) = K(5/9(77-32)) = K(5/9 √ó 45) = K(25) = 25 + 273 = 298 K</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Toko memberikan diskon bertingkat:</p>
                                <p>f(x) = x - 50.000 (diskon Rp 50.000 untuk pembelian di atas Rp 200.000)</p>
                                <p>g(x) = 0,9x (diskon 10% untuk member)</p>
                                <p>Jika Andi member dan membeli Rp 300.000:</p>
                                <p>(g ‚àò f)(300.000) = g(f(300.000)) = g(250.000) = 0,9 √ó 250.000 = Rp 225.000</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Diketahui f(x) = 2x + 3 dan g(x) = x - 1. Nilai (f ‚àò g)(5) adalah...",
                            options: ["11", "10", "9", "8", "7"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika f(x) = x¬≤ dan g(x) = 3x + 2, maka (f ‚àò g)(2) = ...",
                            options: ["64", "36", "25", "16", "9"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Fungsi konversi suhu: C(F) = 5/9(F-32) dan K(C) = C + 273. Suhu 86¬∞F dalam Kelvin adalah...",
                            options: ["303 K", "300 K", "298 K", "295 K", "290 K"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Toko memberikan diskon: f(x) = 0,8x (diskon 20%) dan g(x) = x - 25000 (potongan Rp 25.000). Harga akhir barang Rp 200.000 jika diskon f dulu kemudian g adalah...",
                            options: ["Rp 135.000", "Rp 140.000", "Rp 145.000", "Rp 150.000", "Rp 155.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Diketahui f(x) = x + 5 dan g(x) = 2x - 3. Nilai (g ‚àò f)(1) adalah...",
                            options: ["9", "8", "7", "6", "5"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab2b': {
                    title: 'Fungsi Invers',
                    learningObjectives: [
                        'Memahami konsep fungsi invers sebagai kebalikan dari fungsi asli',
                        'Menentukan fungsi invers f‚Åª¬π(x) dari fungsi f(x) yang diberikan',
                        'Memverifikasi hasil fungsi invers dengan syarat f(f‚Åª¬π(x)) = x',
                        'Menggambar grafik fungsi invers sebagai refleksi terhadap garis y = x',
                        'Menerapkan fungsi invers dalam masalah konversi suhu dan dekripsi data'
                    ],
                    videoLinks: [
                        { title: "Konsep Fungsi Invers", url: "https://www.youtube.com/watch?v=qb2krJJFbzI", embed: "https://www.youtube.com/embed/qb2krJJFbzI" },
                        { title: "Cara Mencari Fungsi Invers", url: "https://www.youtube.com/watch?v=2dyLnGsV8Gw", embed: "https://www.youtube.com/embed/2dyLnGsV8Gw" },
                        { title: "Grafik Fungsi Invers", url: "https://www.youtube.com/watch?v=UqsqF2W4xRs", embed: "https://www.youtube.com/embed/UqsqF2W4xRs" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Fungsi Invers", url: "https://www.khanacademy.org/math/algebra2/x2ec2f6f830c9fb89:functions/x2ec2f6f830c9fb89:invertible/v/introduction-to-function-inverses" },
                        { title: "Ruangguru - Fungsi Invers", url: "https://www.ruangguru.com/blog/matematika-kelas-11-fungsi-invers" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Fungsi Invers dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Fungsi invers adalah fungsi yang membalik proses dari fungsi asalnya. Dalam kehidupan sehari-hari:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Enkripsi dan dekripsi data</li>
                                <li>Konversi satuan (meter ke kaki, kaki ke meter)</li>
                                <li>Menghitung harga sebelum pajak dari harga setelah pajak</li>
                                <li>Mencari input dari output yang diketahui</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Cara Mencari Fungsi Invers</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>Langkah-langkah:</strong></p>
                                <ol class="list-decimal pl-4">
                                    <li>Ubah f(x) menjadi y</li>
                                    <li>Tukar posisi x dan y</li>
                                    <li>Selesaikan untuk y</li>
                                    <li>Ganti y dengan f‚Åª¬π(x)</li>
                                </ol>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Jika f(x) = 2x - 5, tentukan f‚Åª¬π(x)!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>y = 2x - 5 ‚Üí x = 2y - 5 ‚Üí 2y = x + 5 ‚Üí y = (x + 5)/2</p>
                                <p>Jadi f‚Åª¬π(x) = (x + 5)/2</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Harga setelah pajak 11% adalah Rp 222.000. Berapa harga sebelum pajak?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>f(x) = 1,11x (fungsi pajak), f‚Åª¬π(x) = x/1,11</p>
                                <p>Harga sebelum pajak = 222.000/1,11 = Rp 200.000</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Fungsi konversi Celsius ke Fahrenheit: f(C) = 9/5 C + 32</p>
                                <p>Untuk mencari invers (Fahrenheit ke Celsius):</p>
                                <p>F = 9/5 C + 32 ‚Üí C = 5/9(F - 32)</p>
                                <p>Jadi f‚Åª¬π(F) = 5/9(F - 32)</p>
                                <p>Contoh: 86¬∞F = 5/9(86-32) = 5/9 √ó 54 = 30¬∞C</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Jika f(x) = 3x - 5, maka f‚Åª¬π(x) = ...",
                            options: ["(x + 5)/3", "(x - 5)/3", "3x + 5", "3x - 5", "(3x + 5)/2"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Fungsi f(x) = 2x + 7. Nilai f‚Åª¬π(15) adalah...",
                            options: ["4", "3", "2", "1", "5"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Harga setelah pajak 10% adalah Rp 110.000. Harga sebelum pajak adalah...",
                            options: ["Rp 100.000", "Rp 99.000", "Rp 101.000", "Rp 105.000", "Rp 95.000"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika f(x) = (x - 2)/3 dan f(a) = 4, maka nilai a adalah...",
                            options: ["14", "12", "10", "8", "16"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Invers dari fungsi f(x) = 4x + 8 adalah...",
                            options: ["(x - 8)/4", "(x + 8)/4", "4x - 8", "(4x - 8)/2", "x/4 - 2"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab3a': {
                    title: 'Notasi Matriks',
                    learningObjectives: [
                        'Memahami definisi matriks sebagai susunan bilangan dalam baris dan kolom',
                        'Mengenal notasi matriks dan cara penulisan elemen matriks a·µ¢‚±º',
                        'Mengidentifikasi jenis-jenis matriks (persegi, identitas, nol, diagonal)',
                        'Menentukan ordo matriks dan jumlah elemen dalam matriks',
                        'Menerapkan konsep matriks dalam representasi data kehidupan sehari-hari'
                    ],
                    videoLinks: [
                        { title: "Pengenalan Matriks", url: "https://www.youtube.com/watch?v=0oGJTQCy4cQ", embed: "https://www.youtube.com/embed/0oGJTQCy4cQ" },
                        { title: "Jenis-Jenis Matriks", url: "https://www.youtube.com/watch?v=vLlbKRoVXQI", embed: "https://www.youtube.com/embed/vLlbKRoVXQI" },
                        { title: "Notasi dan Elemen Matriks", url: "https://www.youtube.com/watch?v=xyAuNHPsq-g", embed: "https://www.youtube.com/embed/xyAuNHPsq-g" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Matriks", url: "https://www.khanacademy.org/math/precalculus/x9e81a4f98389efdf:matrices/x9e81a4f98389efdf:intro-to-matrices/v/introduction-to-the-matrix" },
                        { title: "Ruangguru - Matriks", url: "https://www.ruangguru.com/blog/matematika-kelas-11-matriks" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Matriks dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Matriks adalah susunan bilangan dalam bentuk persegi panjang yang diatur dalam baris dan kolom. Penggunaan matriks dalam kehidupan:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Data penjualan per bulan dan per produk</li>
                                <li>Jadwal pelajaran sekolah</li>
                                <li>Grafik komputer dan game</li>
                                <li>Sistem persamaan linear</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Notasi Matriks</h6>
                            <div class="bg-blue-50 p-4 rounded mb-4">
                                <p><strong>Matriks A berukuran m √ó n:</strong></p>
                                <div class="text-center my-3">
                                    <div class="inline-block bg-white p-3 rounded border">
                                        A = <span class="text-2xl">[</span>
                                        <table class="inline-table mx-2">
                                            <tr>
                                                <td class="px-2 py-1">a‚ÇÅ‚ÇÅ</td>
                                                <td class="px-2 py-1">a‚ÇÅ‚ÇÇ</td>
                                                <td class="px-2 py-1">...</td>
                                                <td class="px-2 py-1">a‚ÇÅ‚Çô</td>
                                            </tr>
                                            <tr>
                                                <td class="px-2 py-1">a‚ÇÇ‚ÇÅ</td>
                                                <td class="px-2 py-1">a‚ÇÇ‚ÇÇ</td>
                                                <td class="px-2 py-1">...</td>
                                                <td class="px-2 py-1">a‚ÇÇ‚Çô</td>
                                            </tr>
                                            <tr>
                                                <td class="px-2 py-1">‚ãÆ</td>
                                                <td class="px-2 py-1">‚ãÆ</td>
                                                <td class="px-2 py-1">‚ã±</td>
                                                <td class="px-2 py-1">‚ãÆ</td>
                                            </tr>
                                            <tr>
                                                <td class="px-2 py-1">a‚Çò‚ÇÅ</td>
                                                <td class="px-2 py-1">a‚Çò‚ÇÇ</td>
                                                <td class="px-2 py-1">...</td>
                                                <td class="px-2 py-1">a‚Çò‚Çô</td>
                                            </tr>
                                        </table>
                                        <span class="text-2xl">]</span>
                                    </div>
                                </div>
                                <p class="text-center"><strong>dimana:</strong> i = baris (1,2,...,m) dan j = kolom (1,2,...,n)</p>
                            </div>
                            
                            <h6 class="font-semibold mb-3">Jenis-Jenis Matriks</h6>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div class="bg-green-50 p-3 rounded">
                                    <h6 class="font-semibold text-green-800 mb-2">1. Matriks Persegi</h6>
                                    <p class="text-sm mb-2">Jumlah baris = jumlah kolom</p>
                                    <div class="text-center">
                                        <span class="text-lg">[</span>
                                        <table class="inline-table mx-1">
                                            <tr><td class="px-1">1</td><td class="px-1">2</td></tr>
                                            <tr><td class="px-1">3</td><td class="px-1">4</td></tr>
                                        </table>
                                        <span class="text-lg">]</span>
                                        <p class="text-xs mt-1">Matriks 2√ó2</p>
                                    </div>
                                </div>
                                
                                <div class="bg-purple-50 p-3 rounded">
                                    <h6 class="font-semibold text-purple-800 mb-2">2. Matriks Identitas</h6>
                                    <p class="text-sm mb-2">Diagonal utama = 1, lainnya = 0</p>
                                    <div class="text-center">
                                        <span class="text-lg">[</span>
                                        <table class="inline-table mx-1">
                                            <tr><td class="px-1">1</td><td class="px-1">0</td></tr>
                                            <tr><td class="px-1">0</td><td class="px-1">1</td></tr>
                                        </table>
                                        <span class="text-lg">]</span>
                                        <p class="text-xs mt-1">I‚ÇÇ</p>
                                    </div>
                                </div>
                                
                                <div class="bg-red-50 p-3 rounded">
                                    <h6 class="font-semibold text-red-800 mb-2">3. Matriks Nol</h6>
                                    <p class="text-sm mb-2">Semua elemen = 0</p>
                                    <div class="text-center">
                                        <span class="text-lg">[</span>
                                        <table class="inline-table mx-1">
                                            <tr><td class="px-1">0</td><td class="px-1">0</td></tr>
                                            <tr><td class="px-1">0</td><td class="px-1">0</td></tr>
                                        </table>
                                        <span class="text-lg">]</span>
                                        <p class="text-xs mt-1">O‚ÇÇ</p>
                                    </div>
                                </div>
                                
                                <div class="bg-orange-50 p-3 rounded">
                                    <h6 class="font-semibold text-orange-800 mb-2">4. Matriks Diagonal</h6>
                                    <p class="text-sm mb-2">Hanya diagonal utama ‚â† 0</p>
                                    <div class="text-center">
                                        <span class="text-lg">[</span>
                                        <table class="inline-table mx-1">
                                            <tr><td class="px-1">3</td><td class="px-1">0</td></tr>
                                            <tr><td class="px-1">0</td><td class="px-1">5</td></tr>
                                        </table>
                                        <span class="text-lg">]</span>
                                        <p class="text-xs mt-1">Diagonal</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Tentukan ordo dan elemen a‚ÇÇ‚ÇÉ dari matriks A = [[1,2,3],[4,5,6]]!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Ordo matriks A = 2√ó3 (2 baris, 3 kolom)</p>
                                <p>Elemen a‚ÇÇ‚ÇÉ = elemen baris ke-2, kolom ke-3 = 6</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Sebutkan jenis matriks B = [[3,0],[0,5]]!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Matriks B adalah matriks diagonal karena elemen di luar diagonal utama bernilai 0</p>
                                <p>Juga merupakan matriks persegi karena jumlah baris = jumlah kolom = 2</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p class="mb-2">Data penjualan toko buah (dalam kg):</p>
                                <table class="border-collapse border border-gray-300 mt-2 mx-auto">
                                    <tr>
                                        <th class="border border-gray-300 p-2 bg-gray-100"></th>
                                        <th class="border border-gray-300 p-2 bg-gray-100">Apel</th>
                                        <th class="border border-gray-300 p-2 bg-gray-100">Jeruk</th>
                                        <th class="border border-gray-300 p-2 bg-gray-100">Pisang</th>
                                    </tr>
                                    <tr>
                                        <th class="border border-gray-300 p-2 bg-gray-100">Senin</th>
                                        <td class="border border-gray-300 p-2 text-center">20</td>
                                        <td class="border border-gray-300 p-2 text-center">15</td>
                                        <td class="border border-gray-300 p-2 text-center">25</td>
                                    </tr>
                                    <tr>
                                        <th class="border border-gray-300 p-2 bg-gray-100">Selasa</th>
                                        <td class="border border-gray-300 p-2 text-center">18</td>
                                        <td class="border border-gray-300 p-2 text-center">20</td>
                                        <td class="border border-gray-300 p-2 text-center">22</td>
                                    </tr>
                                </table>
                                <div class="text-center mt-3">
                                    <p><strong>Dalam bentuk matriks 2√ó3:</strong></p>
                                    <div class="inline-block bg-white p-2 rounded border mt-2">
                                        A = <span class="text-xl">[</span>
                                        <table class="inline-table mx-2">
                                            <tr>
                                                <td class="px-2 py-1 text-center">20</td>
                                                <td class="px-2 py-1 text-center">15</td>
                                                <td class="px-2 py-1 text-center">25</td>
                                            </tr>
                                            <tr>
                                                <td class="px-2 py-1 text-center">18</td>
                                                <td class="px-2 py-1 text-center">20</td>
                                                <td class="px-2 py-1 text-center">22</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl">]</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Matriks A = [[2,3,1],[4,5,6]] memiliki ukuran...",
                            options: ["2 √ó 3", "3 √ó 2", "2 √ó 2", "3 √ó 3", "1 √ó 6"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Dalam matriks B = [[1,2,3],[4,5,6],[7,8,9]], elemen b‚ÇÇ‚ÇÉ adalah...",
                            options: ["6", "5", "8", "9", "3"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Matriks yang memiliki jumlah baris sama dengan jumlah kolom disebut matriks...",
                            options: ["Persegi", "Persegi panjang", "Baris", "Kolom", "Diagonal"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika matriks C berukuran 4 √ó 5, maka matriks C memiliki ... elemen",
                            options: ["20", "15", "12", "9", "25"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Matriks identitas 3√ó3 memiliki elemen diagonal utama...",
                            options: ["Semua bernilai 1", "Semua bernilai 0", "Berbeda-beda", "Semua bernilai 3", "Tidak tentu"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab3b': {
                    title: 'Operasi Matriks',
                    learningObjectives: [
                        'Melakukan operasi penjumlahan dan pengurangan matriks dengan syarat ordo sama',
                        'Menghitung perkalian skalar dengan matriks',
                        'Melakukan perkalian dua matriks dengan syarat kolom A = baris B',
                        'Memahami sifat-sifat operasi matriks (komutatif, asosiatif, distributif)',
                        'Menerapkan operasi matriks dalam masalah data penjualan dan analisis bisnis'
                    ],
                    videoLinks: [
                        { title: "Penjumlahan dan Pengurangan Matriks", url: "https://www.youtube.com/watch?v=WR9qCSXJlyY", embed: "https://www.youtube.com/embed/WR9qCSXJlyY" },
                        { title: "Perkalian Matriks", url: "https://www.youtube.com/watch?v=XkY2DOUCWMU", embed: "https://www.youtube.com/embed/XkY2DOUCWMU" },
                        { title: "Perkalian Skalar dengan Matriks", url: "https://www.youtube.com/watch?v=4csuTO7UTMo", embed: "https://www.youtube.com/embed/4csuTO7UTMo" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Operasi Matriks", url: "https://www.khanacademy.org/math/precalculus/x9e81a4f98389efdf:matrices/x9e81a4f98389efdf:adding-and-subtracting-matrices/v/matrix-addition-and-subtraction-1" },
                        { title: "Ruangguru - Operasi Matriks", url: "https://www.ruangguru.com/blog/matematika-kelas-11-operasi-matriks" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Operasi Matriks dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Operasi matriks digunakan untuk menghitung dan menganalisis data dalam berbagai situasi:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Menghitung total penjualan dari beberapa toko</li>
                                <li>Menggabungkan data dari berbagai sumber</li>
                                <li>Perhitungan biaya produksi</li>
                                <li>Analisis jaringan dan rute</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-3">Jenis Operasi Matriks</h6>
                            
                            <div class="space-y-6">
                                <div class="bg-blue-50 p-4 rounded-lg">
                                    <h6 class="font-semibold text-blue-800 mb-3">1. Penjumlahan Matriks (A + B)</h6>
                                    <p class="mb-3"><strong>Syarat:</strong> Kedua matriks harus memiliki ukuran yang sama</p>
                                    <p class="mb-3"><strong>Cara:</strong> Jumlahkan elemen-elemen yang bersesuaian</p>
                                    <div class="bg-white p-3 rounded border">
                                        <p class="text-center mb-2"><strong>Contoh:</strong></p>
                                        <div class="flex items-center justify-center space-x-4">
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">2</td><td class="px-2 py-1">3</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">1</td><td class="px-2 py-1 border-t border-gray-200">4</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A</p>
                                            </div>
                                            <span class="text-xl">+</span>
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">1</td><td class="px-2 py-1">2</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">3</td><td class="px-2 py-1 border-t border-gray-200">1</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">B</p>
                                            </div>
                                            <span class="text-xl">=</span>
                                            <div class="text-center">
                                                <div class="border border-green-300 bg-green-50 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">3</td><td class="px-2 py-1">5</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">4</td><td class="px-2 py-1 border-t border-gray-200">5</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A + B</p>
                                            </div>
                                        </div>
                                        <p class="text-center text-sm mt-2 text-gray-600">2+1=3, 3+2=5, 1+3=4, 4+1=5</p>
                                    </div>
                                </div>
                                
                                <div class="bg-purple-50 p-4 rounded-lg">
                                    <h6 class="font-semibold text-purple-800 mb-3">2. Pengurangan Matriks (A - B)</h6>
                                    <p class="mb-3"><strong>Syarat:</strong> Kedua matriks harus memiliki ukuran yang sama</p>
                                    <p class="mb-3"><strong>Cara:</strong> Kurangkan elemen-elemen yang bersesuaian</p>
                                    <div class="bg-white p-3 rounded border">
                                        <p class="text-center mb-2"><strong>Contoh:</strong></p>
                                        <div class="flex items-center justify-center space-x-4">
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">5</td><td class="px-2 py-1">3</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">2</td><td class="px-2 py-1 border-t border-gray-200">6</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A</p>
                                            </div>
                                            <span class="text-xl">-</span>
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">2</td><td class="px-2 py-1">1</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">1</td><td class="px-2 py-1 border-t border-gray-200">4</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">B</p>
                                            </div>
                                            <span class="text-xl">=</span>
                                            <div class="text-center">
                                                <div class="border border-green-300 bg-green-50 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">3</td><td class="px-2 py-1">2</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">1</td><td class="px-2 py-1 border-t border-gray-200">2</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A - B</p>
                                            </div>
                                        </div>
                                        <p class="text-center text-sm mt-2 text-gray-600">5-2=3, 3-1=2, 2-1=1, 6-4=2</p>
                                    </div>
                                </div>
                                
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <h6 class="font-semibold text-green-800 mb-3">3. Perkalian Skalar (k √ó A)</h6>
                                    <p class="mb-3"><strong>Cara:</strong> Kalikan setiap elemen matriks dengan bilangan skalar k</p>
                                    <div class="bg-white p-3 rounded border">
                                        <p class="text-center mb-2"><strong>Contoh:</strong></p>
                                        <div class="flex items-center justify-center space-x-4">
                                            <span class="text-xl font-bold">3</span>
                                            <span class="text-xl">√ó</span>
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">2</td><td class="px-2 py-1">1</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">0</td><td class="px-2 py-1 border-t border-gray-200">4</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A</p>
                                            </div>
                                            <span class="text-xl">=</span>
                                            <div class="text-center">
                                                <div class="border border-green-300 bg-green-50 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">6</td><td class="px-2 py-1">3</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">0</td><td class="px-2 py-1 border-t border-gray-200">12</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">3A</p>
                                            </div>
                                        </div>
                                        <p class="text-center text-sm mt-2 text-gray-600">3√ó2=6, 3√ó1=3, 3√ó0=0, 3√ó4=12</p>
                                    </div>
                                </div>
                                
                                <div class="bg-orange-50 p-4 rounded-lg">
                                    <h6 class="font-semibold text-orange-800 mb-3">4. Perkalian Matriks (A √ó B)</h6>
                                    <p class="mb-3"><strong>Syarat:</strong> Jumlah kolom matriks A = jumlah baris matriks B</p>
                                    <p class="mb-3"><strong>Cara:</strong> Kalikan baris dengan kolom, lalu jumlahkan</p>
                                    <div class="bg-white p-3 rounded border">
                                        <p class="text-center mb-2"><strong>Contoh:</strong></p>
                                        <div class="flex items-center justify-center space-x-4 mb-3">
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">1</td><td class="px-2 py-1">2</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">3</td><td class="px-2 py-1 border-t border-gray-200">4</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A (2√ó2)</p>
                                            </div>
                                            <span class="text-xl">√ó</span>
                                            <div class="text-center">
                                                <div class="border border-gray-300 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">5</td><td class="px-2 py-1">6</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">7</td><td class="px-2 py-1 border-t border-gray-200">8</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">B (2√ó2)</p>
                                            </div>
                                            <span class="text-xl">=</span>
                                            <div class="text-center">
                                                <div class="border border-green-300 bg-green-50 inline-block p-2 rounded">
                                                    <table class="mx-auto">
                                                        <tr><td class="px-2 py-1 border-r border-gray-200">19</td><td class="px-2 py-1">22</td></tr>
                                                        <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200">43</td><td class="px-2 py-1 border-t border-gray-200">50</td></tr>
                                                    </table>
                                                </div>
                                                <p class="text-sm mt-1">A √ó B</p>
                                            </div>
                                        </div>
                                        <div class="text-sm text-gray-600 space-y-1">
                                            <p><strong>Perhitungan:</strong></p>
                                            <p>‚Ä¢ Elemen (1,1): (1√ó5) + (2√ó7) = 5 + 14 = 19</p>
                                            <p>‚Ä¢ Elemen (1,2): (1√ó6) + (2√ó8) = 6 + 16 = 22</p>
                                            <p>‚Ä¢ Elemen (2,1): (3√ó5) + (4√ó7) = 15 + 28 = 43</p>
                                            <p>‚Ä¢ Elemen (2,2): (3√ó6) + (4√ó8) = 18 + 32 = 50</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg mt-6">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p class="mb-3">Penjualan 2 toko dalam 2 hari (dalam ribuan rupiah):</p>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-center space-x-4">
                                        <div class="text-center">
                                            <p class="font-semibold mb-2">Toko A</p>
                                            <div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                                <table class="mx-auto">
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 text-center">100</td><td class="px-2 py-1 text-center">150</td></tr>
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200 text-center">120</td><td class="px-2 py-1 border-t border-gray-200 text-center">180</td></tr>
                                                </table>
                                            </div>
                                            <p class="text-xs mt-1">Hari 1-2, Produk A-B</p>
                                        </div>
                                        <span class="text-xl">+</span>
                                        <div class="text-center">
                                            <p class="font-semibold mb-2">Toko B</p>
                                            <div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                                <table class="mx-auto">
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 text-center">80</td><td class="px-2 py-1 text-center">130</td></tr>
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200 text-center">110</td><td class="px-2 py-1 border-t border-gray-200 text-center">160</td></tr>
                                                </table>
                                            </div>
                                            <p class="text-xs mt-1">Hari 1-2, Produk A-B</p>
                                        </div>
                                        <span class="text-xl">=</span>
                                        <div class="text-center">
                                            <p class="font-semibold mb-2">Total</p>
                                            <div class="border border-green-300 bg-green-50 inline-block p-2 rounded">
                                                <table class="mx-auto">
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 text-center">180</td><td class="px-2 py-1 text-center">280</td></tr>
                                                    <tr><td class="px-2 py-1 border-r border-gray-200 border-t border-gray-200 text-center">230</td><td class="px-2 py-1 border-t border-gray-200 text-center">340</td></tr>
                                                </table>
                                            </div>
                                            <p class="text-xs mt-1">Total Penjualan</p>
                                        </div>
                                    </div>
                                    <p class="text-sm text-center">
                                        <strong>Interpretasi:</strong> Hari 1: Produk A = Rp 180rb, Produk B = Rp 280rb<br>
                                        Hari 2: Produk A = Rp 230rb, Produk B = Rp 340rb
                                    </p>
                                </div>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: `Diketahui matriks A dan B sebagai berikut:<br><br>
                                <div class="flex items-center justify-center space-x-6 my-6">
                                    <div class="text-center">
                                        <p class="font-bold text-lg mb-2">Matriks A</p>
                                        <div class="bg-blue-50 border-2 border-blue-300 inline-block p-4 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="text-2xl mr-2">[</span>
                                                <table class="border-collapse">
                                                    <tr>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">2</td>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">1</td>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">4</td>
                                                    </tr>
                                                </table>
                                                <span class="text-2xl ml-2">]</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <p class="font-bold text-lg mb-2">Matriks B</p>
                                        <div class="bg-green-50 border-2 border-green-300 inline-block p-4 rounded-lg">
                                            <div class="flex items-center">
                                                <span class="text-2xl mr-2">[</span>
                                                <table class="border-collapse">
                                                    <tr>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">1</td>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">3</td>
                                                        <td class="w-12 h-12 text-center text-xl font-bold border border-gray-400 bg-white">1</td>
                                                    </tr>
                                                </table>
                                                <span class="text-2xl ml-2">]</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                Hasil dari A + B adalah...`,
                            options: [
                                `<div class="bg-yellow-50 border-2 border-yellow-300 inline-block p-3 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-xl mr-2">[</span>
                                        <table class="border-collapse">
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">3</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                            </tr>
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl ml-2">]</span>
                                    </div>
                                </div>`,
                                `<div class="bg-gray-50 border-2 border-gray-300 inline-block p-3 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-xl mr-2">[</span>
                                        <table class="border-collapse">
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">3</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                            </tr>
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl ml-2">]</span>
                                    </div>
                                </div>`,
                                `<div class="bg-gray-50 border-2 border-gray-300 inline-block p-3 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-xl mr-2">[</span>
                                        <table class="border-collapse">
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">2</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                            </tr>
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl ml-2">]</span>
                                    </div>
                                </div>`,
                                `<div class="bg-gray-50 border-2 border-gray-300 inline-block p-3 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-xl mr-2">[</span>
                                        <table class="border-collapse">
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">1</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                            </tr>
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">3</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl ml-2">]</span>
                                    </div>
                                </div>`,
                                `<div class="bg-gray-50 border-2 border-gray-300 inline-block p-3 rounded-lg">
                                    <div class="flex items-center">
                                        <span class="text-xl mr-2">[</span>
                                        <table class="border-collapse">
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">4</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">6</td>
                                            </tr>
                                            <tr>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">5</td>
                                                <td class="w-10 h-10 text-center text-lg font-bold border border-gray-400 bg-white">6</td>
                                            </tr>
                                        </table>
                                        <span class="text-xl ml-2">]</span>
                                    </div>
                                </div>`
                            ],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: `Hasil dari perkalian skalar berikut:<br><br>
                                <div class="flex items-center justify-center space-x-4 my-4">
                                    <span class="text-xl font-bold">3</span>
                                    <span class="text-xl">√ó</span>
                                    <div class="text-center">
                                        <div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                            <table class="mx-auto">
                                                <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">2</td><td class="px-3 py-2 text-center font-mono">1</td></tr>
                                                <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">0</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">4</td></tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                adalah...`,
                            options: [
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">6</td><td class="px-3 py-2 text-center font-mono">3</td></tr>
                                        <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">0</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">12</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">6</td><td class="px-3 py-2 text-center font-mono">3</td></tr>
                                        <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">3</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">12</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">5</td><td class="px-3 py-2 text-center font-mono">4</td></tr>
                                        <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">3</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">7</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">2</td><td class="px-3 py-2 text-center font-mono">1</td></tr>
                                        <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">0</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">4</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">9</td><td class="px-3 py-2 text-center font-mono">6</td></tr>
                                        <tr><td class="px-3 py-2 border-r border-gray-200 border-t border-gray-200 text-center font-mono">3</td><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">15</td></tr>
                                    </table>
                                </div>`
                            ],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: `Diketahui matriks:<br><br>
                                <div class="flex items-center justify-center space-x-4 my-4">
                                    <div class="text-center">
                                        <div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                            <table class="mx-auto">
                                                <tr><td class="px-3 py-2 border-r border-gray-200 text-center font-mono">1</td><td class="px-3 py-2 text-center font-mono">2</td></tr>
                                            </table>
                                        </div>
                                        <p class="text-sm mt-1 font-semibold">A (1√ó2)</p>
                                    </div>
                                    <span class="text-lg">dan</span>
                                    <div class="text-center">
                                        <div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                            <table class="mx-auto">
                                                <tr><td class="px-3 py-2 text-center font-mono">3</td></tr>
                                                <tr><td class="px-3 py-2 border-t border-gray-200 text-center font-mono">4</td></tr>
                                            </table>
                                        </div>
                                        <p class="text-sm mt-1 font-semibold">B (2√ó1)</p>
                                    </div>
                                </div>
                                Hasil dari A √ó B adalah...`,
                            options: [
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 text-center font-mono">11</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 text-center font-mono">7</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 text-center font-mono">5</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 text-center font-mono">3</td></tr>
                                    </table>
                                </div>`,
                                `<div class="border border-gray-300 inline-block p-2 rounded bg-white">
                                    <table class="mx-auto">
                                        <tr><td class="px-3 py-2 text-center font-mono">9</td></tr>
                                    </table>
                                </div>`
                            ],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Syarat dua matriks dapat dijumlahkan adalah...",
                            options: ["Ukuran kedua matriks harus sama", "Kedua matriks harus berbentuk persegi", "Determinan kedua matriks harus sama", "Semua elemen kedua matriks harus sama", "Kedua matriks harus memiliki elemen positif"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Hasil perkalian matriks A(2√ó3) dengan B(3√ó2) menghasilkan matriks berukuran...",
                            options: ["2√ó2", "3√ó3", "2√ó3", "3√ó2", "6√ó6"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab3c': {
                    title: 'Determinan dan Invers Matriks',
                    learningObjectives: [
                        'Menghitung determinan matriks 2√ó2 menggunakan rumus det(A) = ad - bc',
                        'Menentukan invers matriks 2√ó2 dengan syarat determinan ‚â† 0',
                        'Memverifikasi hasil invers dengan perkalian A √ó A‚Åª¬π = I',
                        'Menerapkan determinan dan invers dalam penyelesaian sistem persamaan linear',
                        'Menggunakan matriks invers dalam masalah dekripsi dan analisis ekonomi'
                    ],
                    videoLinks: [
                        { title: "Determinan Matriks 2x2 dan 3x3", url: "https://www.youtube.com/watch?v=Ip3X9LOh2dk", embed: "https://www.youtube.com/embed/Ip3X9LOh2dk" },
                        { title: "Invers Matriks 2x2", url: "https://www.youtube.com/watch?v=01c12NaUQDw", embed: "https://www.youtube.com/embed/01c12NaUQDw" },
                        { title: "Aplikasi Determinan dan Invers", url: "https://www.youtube.com/watch?v=uQhTuRlWMxw", embed: "https://www.youtube.com/embed/uQhTuRlWMxw" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Determinan", url: "https://www.khanacademy.org/math/linear-algebra/matrix-transformations/determinant-depth/v/linear-algebra-determinant-when-row-multiplied-by-scalar" },
                        { title: "Ruangguru - Determinan dan Invers", url: "https://www.ruangguru.com/blog/matematika-kelas-11-determinan-dan-invers-matriks" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Determinan dan Invers dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Determinan dan invers matriks digunakan untuk:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Menyelesaikan sistem persamaan linear (ekonomi, teknik)</li>
                                <li>Menghitung luas dan volume dalam geometri</li>
                                <li>Analisis stabilitas sistem</li>
                                <li>Dekripsi dan enkripsi data</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Determinan Matriks 2√ó2</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>Jika A = [[a,b],[c,d]], maka det(A) = ad - bc</strong></p>
                            </div>
                            
                            <h6 class="font-semibold mb-2">Invers Matriks 2√ó2</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>A‚Åª¬π = (1/det(A)) √ó [[d,-b],[-c,a]]</strong></p>
                                <p>Syarat: det(A) ‚â† 0</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Hitung determinan matriks A = [[4,2],[3,1]]!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>det(A) = (4)(1) - (2)(3) = 4 - 6 = -2</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Tentukan invers matriks B = [[2,1],[3,2]]!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>det(B) = (2)(2) - (1)(3) = 4 - 3 = 1</p>
                                <p>B‚Åª¬π = (1/1) √ó [[2,-1],[-3,2]] = [[2,-1],[-3,2]]</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Sistem persamaan untuk menentukan harga:</p>
                                <p>2x + 3y = 13 (2 apel + 3 jeruk = Rp 13.000)</p>
                                <p>x + 2y = 8 (1 apel + 2 jeruk = Rp 8.000)</p>
                                <p>Dalam bentuk matriks: [[2,3],[1,2]] √ó [[x],[y]] = [[13],[8]]</p>
                                <p>Solusi: [[x],[y]] = [[2,3],[1,2]]‚Åª¬π √ó [[13],[8]]</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Determinan matriks [[3,2],[1,4]] adalah...",
                            options: ["10", "8", "6", "4", "12"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika det(A) = 0, maka matriks A...",
                            options: ["Tidak memiliki invers", "Memiliki invers", "Adalah matriks identitas", "Adalah matriks nol", "Adalah matriks diagonal"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Invers dari matriks [[2,1],[3,2]] adalah...",
                            options: ["[[2,-1],[-3,2]]", "[[-2,1],[3,-2]]", "[[2,1],[3,2]]", "[[1,2],[2,3]]", "[[1,-1],[-3,2]]"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika A √ó A‚Åª¬π = I, maka I adalah...",
                            options: ["Matriks identitas", "Matriks nol", "Matriks A", "Matriks transpose", "Matriks diagonal"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Determinan matriks [[5,3],[2,1]] adalah...",
                            options: ["-1", "1", "0", "2", "3"],
                            correct: 0,
                            points: 20
                        }
                    ]
                }
            },
            'XII': {
                'bab1a': {
                    title: 'Transformasi Fungsi',
                    learningObjectives: [
                        'Memahami konsep transformasi fungsi sebagai perubahan bentuk grafik fungsi',
                        'Melakukan translasi fungsi f(x) ‚Üí f(x-a) + b dengan benar',
                        'Melakukan refleksi fungsi terhadap sumbu x dan sumbu y',
                        'Melakukan dilatasi fungsi dengan faktor skala tertentu',
                        'Menerapkan transformasi fungsi dalam masalah grafik dan visualisasi data'
                    ],
                    videoLinks: [
                        { title: "Konsep Transformasi Fungsi", url: "https://www.youtube.com/watch?v=1rdHaUwaMkc", embed: "https://www.youtube.com/embed/1rdHaUwaMkc" },
                        { title: "Translasi dan Refleksi Fungsi", url: "https://www.youtube.com/watch?v=BLkz5LV_rmE", embed: "https://www.youtube.com/embed/BLkz5LV_rmE" },
                        { title: "Dilatasi dan Rotasi Fungsi", url: "https://www.youtube.com/watch?v=GNiN_CP-4_4", embed: "https://www.youtube.com/embed/GNiN_CP-4_4" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Transformasi Fungsi", url: "https://www.khanacademy.org/math/algebra2/x2ec2f6f830c9fb89:transformations/x2ec2f6f830c9fb89:shift-reflect/v/shifting-and-reflecting-functions" },
                        { title: "Ruangguru - Transformasi Fungsi", url: "https://www.ruangguru.com/blog/matematika-kelas-12-transformasi-fungsi" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Transformasi Fungsi dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Transformasi fungsi adalah perubahan bentuk grafik fungsi. Dalam kehidupan sehari-hari:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Pergeseran grafik penjualan seiring waktu</li>
                                <li>Perubahan skala pada peta atau gambar</li>
                                <li>Refleksi dalam cermin atau fotografi</li>
                                <li>Animasi dan efek visual</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Jenis Transformasi</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>1. Translasi:</strong> f(x) ‚Üí f(x-a) + b</p>
                                <p><strong>2. Refleksi:</strong> f(x) ‚Üí -f(x) atau f(-x)</p>
                                <p><strong>3. Dilatasi:</strong> f(x) ‚Üí af(bx)</p>
                                <p><strong>4. Rotasi:</strong> Perputaran grafik</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Jika f(x) = x¬≤, tentukan hasil transformasi f(x-2) + 3!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>f(x-2) + 3 = (x-2)¬≤ + 3</p>
                                <p>Ini adalah translasi 2 satuan ke kanan dan 3 satuan ke atas</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Grafik y = 2f(x) adalah hasil transformasi apa dari y = f(x)?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>y = 2f(x) adalah dilatasi vertikal dengan faktor 2</p>
                                <p>Grafik akan memanjang 2 kali lipat searah sumbu y</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Grafik suhu harian f(t) = 25 + 5sin(t) dimana t dalam jam.</p>
                                <p>Jika suhu naik 3¬∞C: g(t) = f(t) + 3 = 28 + 5sin(t)</p>
                                <p>Jika pengukuran dimulai 2 jam lebih awal: h(t) = f(t+2) = 25 + 5sin(t+2)</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Jika f(x) = x¬≤, maka grafik f(x-3) adalah grafik f(x) yang digeser...",
                            options: ["3 satuan ke kanan", "3 satuan ke kiri", "3 satuan ke atas", "3 satuan ke bawah", "Tidak berubah"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Transformasi f(x) ‚Üí -f(x) menghasilkan...",
                            options: ["Refleksi terhadap sumbu x", "Refleksi terhadap sumbu y", "Translasi ke atas", "Translasi ke bawah", "Dilatasi vertikal"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Grafik y = 2f(x) adalah hasil dilatasi grafik y = f(x) dengan faktor...",
                            options: ["2 searah sumbu y", "2 searah sumbu x", "1/2 searah sumbu y", "1/2 searah sumbu x", "2 searah kedua sumbu"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika f(x) = x + 1, maka f(2x) = ...",
                            options: ["2x + 1", "x + 2", "2x + 2", "x + 1", "4x + 1"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Transformasi f(x) + 4 menggeser grafik f(x) sejauh...",
                            options: ["4 satuan ke atas", "4 satuan ke bawah", "4 satuan ke kanan", "4 satuan ke kiri", "Tidak bergeser"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab1b': {
                    title: 'Komposisi Transformasi Fungsi',
                    learningObjectives: [
                        'Memahami konsep komposisi transformasi sebagai penggabungan beberapa transformasi',
                        'Menentukan hasil komposisi transformasi dengan urutan yang benar',
                        'Menganalisis pengaruh urutan transformasi terhadap hasil akhir',
                        'Menerapkan komposisi transformasi dalam edit gambar dan animasi',
                        'Memecahkan masalah yang melibatkan multiple transformations'
                    ],
                    videoLinks: [
                        { title: "Komposisi Transformasi Geometri", url: "https://www.youtube.com/watch?v=kYB8IZa5AuE", embed: "https://www.youtube.com/embed/kYB8IZa5AuE" },
                        { title: "Urutan Transformasi", url: "https://www.youtube.com/watch?v=A_31WZC9a_k", embed: "https://www.youtube.com/embed/A_31WZC9a_k" },
                        { title: "Aplikasi Komposisi Transformasi", url: "https://www.youtube.com/watch?v=mpTl003EXCY", embed: "https://www.youtube.com/embed/mpTl003EXCY" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Komposisi Transformasi", url: "https://www.khanacademy.org/math/geometry/hs-geo-transformations/hs-geo-compositions/v/compositions-of-transformations" },
                        { title: "Ruangguru - Komposisi Transformasi", url: "https://www.ruangguru.com/blog/matematika-kelas-12-komposisi-transformasi" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Komposisi Transformasi dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Komposisi transformasi adalah penggabungan beberapa transformasi. Contoh dalam kehidupan:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Edit foto: crop, resize, rotate, filter</li>
                                <li>Animasi: gerak + rotasi + perubahan ukuran</li>
                                <li>Pemetaan: proyeksi + skala + translasi</li>
                                <li>Desain grafis: multiple effects</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Urutan Transformasi</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>Penting:</strong> Urutan transformasi mempengaruhi hasil akhir</p>
                                <p>T‚ÇÇ ‚àò T‚ÇÅ berarti T‚ÇÅ dilakukan terlebih dahulu, kemudian T‚ÇÇ</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Jika T‚ÇÅ adalah translasi (2,3) dan T‚ÇÇ adalah refleksi terhadap sumbu x, tentukan (T‚ÇÇ ‚àò T‚ÇÅ)(1,2)!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>T‚ÇÅ(1,2) = (1+2, 2+3) = (3,5)</p>
                                <p>T‚ÇÇ(3,5) = (3,-5) (refleksi terhadap sumbu x)</p>
                                <p>Jadi (T‚ÇÇ ‚àò T‚ÇÅ)(1,2) = (3,-5)</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Transformasi f(x) ‚Üí 2f(x-1) + 3 terdiri dari transformasi apa saja?</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>1. f(x-1): translasi 1 satuan ke kanan</p>
                                <p>2. 2f(x-1): dilatasi vertikal dengan faktor 2</p>
                                <p>3. 2f(x-1) + 3: translasi 3 satuan ke atas</p>
                                <p>Urutan: translasi ‚Üí dilatasi ‚Üí translasi</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Edit foto profil:</p>
                                <p>1. Crop gambar (translasi)</p>
                                <p>2. Resize 50% (dilatasi dengan faktor 0.5)</p>
                                <p>3. Flip horizontal (refleksi terhadap sumbu y)</p>
                                <p>Hasil akhir berbeda jika urutan diubah!</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Jika T‚ÇÅ: translasi (2,3) dan T‚ÇÇ: refleksi terhadap sumbu x, maka (T‚ÇÇ ‚àò T‚ÇÅ)(1,2) = ...",
                            options: ["(3,-5)", "(3,5)", "(-3,5)", "(-3,-5)", "(5,-3)"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Transformasi f(x) ‚Üí 2f(x-1) + 3 terdiri dari...",
                            options: ["Translasi, dilatasi, translasi", "Dilatasi, translasi, dilatasi", "Refleksi, translasi", "Translasi saja", "Dilatasi saja"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Hasil komposisi refleksi terhadap sumbu x kemudian refleksi terhadap sumbu y sama dengan...",
                            options: ["Rotasi 180¬∞", "Rotasi 90¬∞", "Translasi", "Dilatasi", "Refleksi terhadap garis y=x"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika f(x) = x¬≤, transformasi yang menghasilkan g(x) = -(x+2)¬≤ - 1 adalah...",
                            options: ["Translasi (-2,0), refleksi sumbu x, translasi (0,-1)", "Refleksi sumbu x, translasi (-2,-1)", "Translasi (2,1), refleksi sumbu x", "Dilatasi, translasi", "Translasi (-2,-1), refleksi sumbu x"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Komposisi transformasi T‚ÇÅ: dilatasi [0,2] dan T‚ÇÇ: translasi (3,1) pada titik (1,2) menghasilkan...",
                            options: ["(5,5)", "(4,4)", "(3,3)", "(6,6)", "(7,7)"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab2a': {
                    title: 'Persamaan Lingkaran',
                    learningObjectives: [
                        'Memahami definisi lingkaran sebagai tempat kedudukan titik yang berjarak sama dari pusat',
                        'Menentukan persamaan lingkaran dalam bentuk standar (x-a)¬≤ + (y-b)¬≤ = r¬≤',
                        'Mengubah persamaan lingkaran dari bentuk umum ke bentuk standar',
                        'Menentukan pusat dan jari-jari lingkaran dari persamaan yang diberikan',
                        'Menerapkan persamaan lingkaran dalam masalah jangkauan sinyal dan area coverage'
                    ],
                    videoLinks: [
                        { title: "Persamaan Lingkaran Bentuk Standar", url: "https://www.youtube.com/watch?v=_QnKv4pP4X4", embed: "https://www.youtube.com/embed/_QnKv4pP4X4" },
                        { title: "Persamaan Lingkaran Bentuk Umum", url: "https://www.youtube.com/watch?v=yy7U0u2JWpM", embed: "https://www.youtube.com/embed/yy7U0u2JWpM" },
                        { title: "Menentukan Pusat dan Jari-jari", url: "https://www.youtube.com/watch?v=4KHCuXN2F3I", embed: "https://www.youtube.com/embed/4KHCuXN2F3I" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Persamaan Lingkaran", url: "https://www.khanacademy.org/math/geometry/hs-geo-conic-sections/hs-geo-circle-equations/v/equation-of-a-circle" },
                        { title: "Ruangguru - Persamaan Lingkaran", url: "https://www.ruangguru.com/blog/matematika-kelas-12-persamaan-lingkaran" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Lingkaran dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Persamaan lingkaran digunakan dalam berbagai aplikasi:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Jangkauan sinyal WiFi atau menara BTS</li>
                                <li>Area pencarian dalam GPS</li>
                                <li>Desain taman dan landscape</li>
                                <li>Orbit satelit dan planet</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Bentuk Persamaan Lingkaran</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>Bentuk Standar:</strong> (x-a)¬≤ + (y-b)¬≤ = r¬≤</p>
                                <p>Pusat: (a,b), Jari-jari: r</p>
                                <p><strong>Bentuk Umum:</strong> x¬≤ + y¬≤ + Dx + Ey + F = 0</p>
                                <p>Pusat: (-D/2, -E/2), Jari-jari: ¬Ω‚àö(D¬≤+E¬≤-4F)</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Tentukan persamaan lingkaran dengan pusat (2,-3) dan jari-jari 4!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Menggunakan rumus: (x-a)¬≤ + (y-b)¬≤ = r¬≤</p>
                                <p>Dengan a = 2, b = -3, r = 4</p>
                                <p>Persamaan: (x-2)¬≤ + (y-(-3))¬≤ = 4¬≤</p>
                                <p>Jadi: (x-2)¬≤ + (y+3)¬≤ = 16</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Tentukan pusat dan jari-jari lingkaran x¬≤ + y¬≤ - 4x + 6y - 3 = 0!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Dari persamaan umum: x¬≤ + y¬≤ + Dx + Ey + F = 0</p>
                                <p>D = -4, E = 6, F = -3</p>
                                <p>Pusat: (-D/2, -E/2) = (2, -3)</p>
                                <p>Jari-jari: r = ¬Ω‚àö(D¬≤+E¬≤-4F) = ¬Ω‚àö(16+36+12) = ¬Ω‚àö64 = 4</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Menara BTS di koordinat (3,4) memiliki jangkauan 5 km.</p>
                                <p>Persamaan area jangkauan: (x-3)¬≤ + (y-4)¬≤ = 25</p>
                                <p>Rumah di koordinat (6,8) berada dalam jangkauan karena:</p>
                                <p>(6-3)¬≤ + (8-4)¬≤ = 9 + 16 = 25 ‚â§ 25 ‚úì</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Persamaan lingkaran dengan pusat (2,-3) dan jari-jari 4 adalah...",
                            options: ["(x-2)¬≤ + (y+3)¬≤ = 16", "(x+2)¬≤ + (y-3)¬≤ = 16", "(x-2)¬≤ + (y-3)¬≤ = 16", "(x+2)¬≤ + (y+3)¬≤ = 16", "(x-2)¬≤ + (y+3)¬≤ = 4"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Pusat lingkaran x¬≤ + y¬≤ - 4x + 6y - 3 = 0 adalah...",
                            options: ["(2,-3)", "(-2,3)", "(4,-6)", "(-4,6)", "(2,3)"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jari-jari lingkaran x¬≤ + y¬≤ - 6x + 8y = 0 adalah...",
                            options: ["5", "4", "3", "2", "6"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Titik (5,2) terhadap lingkaran (x-1)¬≤ + (y-2)¬≤ = 9 berada...",
                            options: ["Di luar lingkaran", "Pada lingkaran", "Di dalam lingkaran", "Tidak dapat ditentukan", "Di pusat lingkaran"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Persamaan lingkaran yang melalui titik (0,0), (4,0), dan (0,3) adalah...",
                            options: ["(x-2)¬≤ + (y-1.5)¬≤ = 6.25", "(x-2)¬≤ + (y-1.5)¬≤ = 25", "x¬≤ + y¬≤ = 25", "(x-1)¬≤ + (y-1)¬≤ = 4", "x¬≤ + y¬≤ = 16"],
                            correct: 0,
                            points: 20
                        }
                    ]
                },
                'bab2b': {
                    title: 'Garis Singgung Lingkaran',
                    learningObjectives: [
                        'Memahami konsep garis singgung sebagai garis yang menyentuh lingkaran di satu titik',
                        'Menentukan persamaan garis singgung lingkaran dari titik pada lingkaran',
                        'Menentukan persamaan garis singgung lingkaran dari titik di luar lingkaran',
                        'Menghitung panjang garis singgung dari titik di luar lingkaran',
                        'Menerapkan konsep garis singgung dalam desain jalan dan sistem transmisi'
                    ],
                    videoLinks: [
                        { title: "Garis Singgung Lingkaran", url: "https://www.youtube.com/watch?v=h_9WjWENWV8", embed: "https://www.youtube.com/embed/h_9WjWENWV8" },
                        { title: "Persamaan Garis Singgung", url: "https://www.youtube.com/watch?v=Cqamb_-fWyo", embed: "https://www.youtube.com/embed/Cqamb_-fWyo" },
                        { title: "Panjang Garis Singgung", url: "https://www.youtube.com/watch?v=mGD8GDkOSFk", embed: "https://www.youtube.com/embed/mGD8GDkOSFk" }
                    ],
                    studyLinks: [
                        { title: "Khan Academy - Garis Singgung", url: "https://www.khanacademy.org/math/geometry/hs-geo-conic-sections/hs-geo-circle-equations/v/tangent-to-a-circle" },
                        { title: "Ruangguru - Garis Singgung Lingkaran", url: "https://www.ruangguru.com/blog/matematika-kelas-12-garis-singgung-lingkaran" }
                    ],
                    content: `
                        <div class="prose max-w-none">
                            <h5 class="text-lg font-semibold mb-3">Garis Singgung dalam Kehidupan Sehari-hari</h5>
                            <p class="mb-4">Konsep garis singgung lingkaran digunakan dalam:</p>
                            <ul class="list-disc pl-6 mb-4">
                                <li>Desain jalan melingkar (flyover, bundaran)</li>
                                <li>Sistem transmisi sabuk dan roda gigi</li>
                                <li>Antena dan sinyal radio</li>
                                <li>Desain arsitektur dan engineering</li>
                            </ul>
                            
                            <h6 class="font-semibold mb-2">Persamaan Garis Singgung</h6>
                            <div class="bg-blue-50 p-3 rounded mb-4">
                                <p><strong>Dari titik pada lingkaran (x‚ÇÅ,y‚ÇÅ):</strong></p>
                                <p>(x‚ÇÅ-a)(x-a) + (y‚ÇÅ-b)(y-b) = r¬≤</p>
                                <p><strong>Dari titik di luar lingkaran:</strong></p>
                                <p>Ada 2 garis singgung yang dapat dibuat</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 1:</h6>
                                <p><strong>Soal:</strong> Tentukan persamaan garis singgung lingkaran x¬≤ + y¬≤ = 25 di titik (3,4)!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Menggunakan rumus: x‚ÇÅx + y‚ÇÅy = r¬≤</p>
                                <p>Dengan (x‚ÇÅ,y‚ÇÅ) = (3,4) dan r¬≤ = 25</p>
                                <p>Persamaan: 3x + 4y = 25</p>
                            </div>
                            
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h6 class="font-semibold mb-2">üìö Contoh Soal 2:</h6>
                                <p><strong>Soal:</strong> Hitung panjang garis singgung dari titik (5,0) ke lingkaran x¬≤ + y¬≤ = 9!</p>
                                <p><strong>Penyelesaian:</strong></p>
                                <p>Panjang garis singgung = ‚àö(d¬≤ - r¬≤)</p>
                                <p>d = jarak titik ke pusat = ‚àö((5-0)¬≤ + (0-0)¬≤) = 5</p>
                                <p>r = jari-jari = 3</p>
                                <p>Panjang = ‚àö(5¬≤ - 3¬≤) = ‚àö(25 - 9) = ‚àö16 = 4</p>
                            </div>
                            
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <h6 class="font-semibold mb-2">üí° Contoh Kehidupan Sehari-hari:</h6>
                                <p>Bundaran dengan pusat (0,0) dan jari-jari 50m.</p>
                                <p>Jalan lurus menyinggung bundaran di titik (30,40).</p>
                                <p>Persamaan jalan: 30x + 40y = 2500</p>
                                <p>atau 3x + 4y = 250 (dalam meter)</p>
                            </div>
                        </div>
                    `,
                    exercises: [
                        {
                            question: "Persamaan garis singgung lingkaran x¬≤ + y¬≤ = 25 di titik (3,4) adalah...",
                            options: ["3x + 4y = 25", "4x + 3y = 25", "3x - 4y = 25", "4x - 3y = 25", "3x + 4y = 7"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Garis singgung lingkaran (x-1)¬≤ + (y-2)¬≤ = 5 yang sejajar garis x + 2y = 0 adalah...",
                            options: ["x + 2y = 0 dan x + 2y = 10", "x + 2y = 5 dan x + 2y = -5", "2x + y = 5", "x - 2y = 0", "x + 2y = 3 dan x + 2y = 7"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Panjang garis singgung dari titik (5,0) ke lingkaran x¬≤ + y¬≤ = 9 adalah...",
                            options: ["4", "3", "5", "6", "2"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Jika garis y = mx + c menyinggung lingkaran x¬≤ + y¬≤ = r¬≤, maka syaratnya adalah...",
                            options: ["c¬≤ = r¬≤(1 + m¬≤)", "c = r(1 + m)", "c¬≤ = r¬≤ + m¬≤", "c = rm", "c = r¬≤(1 + m¬≤)"],
                            correct: 0,
                            points: 20
                        },
                        {
                            question: "Persamaan garis singgung lingkaran (x-2)¬≤ + (y-1)¬≤ = 10 di titik (5,2) adalah...",
                            options: ["3x + y = 17", "x + 3y = 11", "3x - y = 13", "x - 3y = -1", "3x + y = 13"],
                            correct: 0,
                            points: 20
                        }
                    ]
                }
            }
        };

        // Teacher password
        const TEACHER_PASSWORD = "guru2024";
        
        // Initialize app
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fullName = document.getElementById('fullName').value;
            const userClass = document.getElementById('userClass').value;
            const userProgram = document.getElementById('userProgram').value;
            const userType = document.getElementById('userType').value;
            const teacherPassword = document.getElementById('teacherPassword').value;
            
            // Validate teacher password
            if (userType === 'teacher') {
                if (teacherPassword !== TEACHER_PASSWORD) {
                    alert('Password guru salah! Silakan hubungi administrator.');
                    return;
                }
            }
            
            if (fullName && userClass && userProgram && userType) {
                currentUser = {
                    name: fullName,
                    class: userClass,
                    program: userProgram,
                    type: userType
                };
                
                // Initialize user progress
                if (!userProgress[fullName]) {
                    userProgress[fullName] = {
                        class: userClass,
                        program: userProgram,
                        completedMaterials: [],
                        exerciseScores: {},
                        completedExercises: [], // Track completed exercises to prevent retries
                        lastActive: new Date().toISOString()
                    };
                }
                
                // Add to student data for teacher view
                if (userType === 'student') {
                    const existingStudent = allStudentData.find(s => s.name === fullName);
                    if (!existingStudent) {
                        allStudentData.push({
                            name: fullName,
                            class: userClass,
                            program: userProgram,
                            completedMaterials: 0,
                            averageScore: 0,
                            lastActive: new Date().toLocaleDateString('id-ID')
                        });
                    }
                }
                
                login();
            }
        });
        
        function togglePasswordField() {
            const userType = document.getElementById('userType').value;
            const passwordField = document.getElementById('teacherPasswordField');
            const passwordInput = document.getElementById('teacherPassword');
            
            if (userType === 'teacher') {
                passwordField.classList.remove('hidden');
                passwordInput.required = true;
            } else {
                passwordField.classList.add('hidden');
                passwordInput.required = false;
                passwordInput.value = '';
            }
        }

        function login() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            // Update user info
            document.getElementById('userInfo').textContent = 
                `${currentUser.name} - ${currentUser.class} ${currentUser.program} (${currentUser.type === 'student' ? 'Siswa' : 'Guru'})`;
            
            // Show/hide teacher-only features
            if (currentUser.type === 'teacher') {
                document.getElementById('progressTab').classList.remove('hidden');
                // Show teacher controls in progress section
                if (document.getElementById('teacherControls')) {
                    document.getElementById('teacherControls').style.display = 'block';
                }
                // Teachers can see all classes
                document.getElementById('btnClassXI').style.display = 'block';
                document.getElementById('btnClassXII').style.display = 'block';
            } else {
                // Hide teacher controls for students
                if (document.getElementById('teacherControls')) {
                    document.getElementById('teacherControls').style.display = 'none';
                }
                // Students can only see their own class
                if (currentUser.class === 'XI') {
                    document.getElementById('btnClassXI').style.display = 'block';
                    document.getElementById('btnClassXII').style.display = 'none';
                    // Auto-select class XI materials
                    showClassMaterials('XI');
                } else if (currentUser.class === 'XII') {
                    document.getElementById('btnClassXI').style.display = 'none';
                    document.getElementById('btnClassXII').style.display = 'block';
                    // Auto-select class XII materials
                    showClassMaterials('XII');
                }
            }
            
            updateDashboard();
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.getElementById('loginForm').reset();
        }

        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('border-purple-500', 'text-purple-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('border-purple-500', 'text-purple-600');
            
            // Load section-specific content
            if (sectionName === 'progress' && currentUser.type === 'teacher') {
                loadStudentProgress();
            }
        }

        function showClassMaterials(className) {
            // Hide all class materials
            document.querySelectorAll('.class-materials').forEach(materials => {
                materials.classList.add('hidden');
            });
            
            // Show selected class materials
            document.getElementById(`materials${className}`).classList.remove('hidden');
            
            // Update class buttons
            document.querySelectorAll('.class-btn').forEach(btn => {
                btn.classList.remove('bg-purple-600', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            event.target.classList.add('bg-purple-600', 'text-white');
        }

        function openMaterial(className, materialId) {
            const material = materialData[className][materialId];
            if (!material) return;
            
            currentMaterial = { class: className, id: materialId };
            
            document.getElementById('materialTitle').textContent = material.title;
            
            // Create content with learning objectives
            let contentHTML = '';
            
            // Add learning objectives section
            if (material.learningObjectives && material.learningObjectives.length > 0) {
                contentHTML += `
                    <div class="mb-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                            </svg>
                            üéØ Tujuan Pembelajaran
                        </h4>
                        <p class="text-blue-700 mb-4 font-medium">Setelah mempelajari materi ini, siswa diharapkan mampu:</p>
                        <ul class="space-y-2">
                `;
                
                material.learningObjectives.forEach((objective, index) => {
                    contentHTML += `
                        <li class="flex items-start space-x-3">
                            <span class="flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold">${index + 1}</span>
                            <span class="text-blue-800 leading-relaxed">${objective}</span>
                        </li>
                    `;
                });
                
                contentHTML += `
                        </ul>
                    </div>
                `;
            }
            
            // Add main content
            contentHTML += material.content;
            
            document.getElementById('materialContent').innerHTML = contentHTML;
            
            // Load video links
            loadVideoLinks(material.videoLinks || []);
            
            // Load exercises
            loadExercises(material.exercises);
            
            document.getElementById('materialModal').classList.remove('hidden');
        }

        function loadVideoLinks(videoLinks) {
            const videoLinksDiv = document.getElementById('videoLinks');
            if (videoLinks.length === 0) {
                videoLinksDiv.innerHTML = '<p class="text-gray-500 text-sm">Video pembelajaran akan segera tersedia</p>';
                return;
            }
            
            let linksHTML = '<div class="space-y-4">';
            
            // Show first video as embedded player
            if (videoLinks[0] && videoLinks[0].embed) {
                linksHTML += `
                    <div class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                        <div class="aspect-w-16 aspect-h-9">
                            <iframe 
                                src="${videoLinks[0].embed}?rel=0&modestbranding=1" 
                                title="${videoLinks[0].title}"
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen
                                class="w-full h-64 md:h-80">
                            </iframe>
                        </div>
                        <div class="p-3 bg-gray-50">
                            <h6 class="font-semibold text-gray-800">${videoLinks[0].title}</h6>
                            <p class="text-sm text-gray-600 mt-1">Video utama untuk materi ini</p>
                        </div>
                    </div>
                `;
            }
            
            // Show other videos as clickable links
            if (videoLinks.length > 1) {
                linksHTML += '<div class="grid grid-cols-1 md:grid-cols-2 gap-3">';
                videoLinks.slice(1).forEach(link => {
                    linksHTML += `
                        <a href="${link.url}" target="_blank" class="flex items-center space-x-3 p-3 bg-white border border-gray-200 rounded-lg hover:bg-red-50 hover:border-red-200 transition duration-300 group">
                            <div class="flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition duration-300">
                                <svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="text-sm font-medium text-gray-900 group-hover:text-red-600 transition duration-300">${link.title}</p>
                                <p class="text-xs text-gray-500">Klik untuk menonton di YouTube</p>
                            </div>
                            <svg class="w-4 h-4 text-gray-400 group-hover:text-red-500 transition duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                        </a>
                    `;
                });
                linksHTML += '</div>';
            }
            
            linksHTML += '</div>';
            videoLinksDiv.innerHTML = linksHTML;
        }

        function openStudyLinks() {
            if (!currentMaterial) return;
            
            const material = materialData[currentMaterial.class][currentMaterial.id];
            const studyLinks = material.studyLinks || [];
            
            if (studyLinks.length === 0) {
                alert('Materi tambahan akan segera tersedia!');
                return;
            }
            
            let linksHTML = `
                <div class="space-y-3">
                    <h6 class="font-semibold text-lg mb-3">üìö Materi Pembelajaran Tambahan</h6>
                    <p class="text-gray-600 mb-4">Pelajari lebih lanjut dengan sumber-sumber berikut:</p>
            `;
            
            studyLinks.forEach(link => {
                linksHTML += `
                    <a href="${link.url}" target="_blank" class="block p-3 border border-blue-200 rounded-lg hover:bg-blue-50 transition duration-300">
                        <div class="flex items-center space-x-3">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                            </svg>
                            <span class="text-blue-600 font-medium">${link.title}</span>
                        </div>
                    </a>
                `;
            });
            
            linksHTML += '</div>';
            
            // Create a simple modal for study links
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            modal.innerHTML = `
                <div class="bg-white rounded-2xl max-w-md w-full p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h5 class="text-lg font-bold">Materi Tambahan</h5>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    ${linksHTML}
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function closeMaterial() {
            document.getElementById('materialModal').classList.add('hidden');
            currentMaterial = null;
            currentExercise = null;
            exerciseAnswers = {};
        }

        function markVideoWatched() {
            if (!currentMaterial || currentUser.type !== 'student') return;
            
            const materialKey = `${currentMaterial.class}_${currentMaterial.id}`;
            const progress = userProgress[currentUser.name];
            
            if (!progress.completedMaterials.includes(materialKey)) {
                progress.completedMaterials.push(materialKey);
                progress.lastActive = new Date().toISOString();
                
                // Add to recent activity
                addRecentActivity(`Menyelesaikan video: ${materialData[currentMaterial.class][currentMaterial.id].title}`);
                
                alert('Video berhasil ditandai selesai! üéâ');
                updateDashboard();
            } else {
                alert('Video sudah pernah ditandai selesai sebelumnya.');
            }
        }

        function loadExercises(exercises) {
            if (!currentMaterial) return;
            
            const materialKey = `${currentMaterial.class}_${currentMaterial.id}`;
            const progress = userProgress[currentUser.name];
            
            // Check if student has already completed this exercise
            if (currentUser.type === 'student' && progress.completedExercises.includes(materialKey)) {
                const score = progress.exerciseScores[materialKey] || 0;
                const exerciseCode = getExerciseCode(currentMaterial.class, currentMaterial.id);
                document.getElementById('exerciseContent').innerHTML = `
                    <div class="text-center py-8">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4">
                            <span class="text-2xl">‚úÖ</span>
                        </div>
                        <h4 class="text-xl font-bold text-gray-900 mb-2">Latihan Sudah Diselesaikan</h4>
                        <div class="bg-blue-100 p-3 rounded-lg mb-4 max-w-md mx-auto">
                            <p class="text-lg font-bold text-blue-800">Kode Nilai: ${exerciseCode}</p>
                            <p class="text-sm text-blue-600">${materialData[currentMaterial.class][currentMaterial.id].title}</p>
                        </div>
                        <p class="text-gray-600 mb-4">Anda telah menyelesaikan latihan ini dengan skor: <strong>${score}</strong></p>
                        <p class="text-sm text-gray-500">Setiap siswa hanya dapat mengerjakan latihan satu kali untuk memastikan keadilan penilaian.</p>
                    </div>
                `;
                return;
            }
            
            currentExercise = exercises;
            exerciseAnswers = {};
            
            let exerciseHTML = '<div class="space-y-6">';
            
            exercises.forEach((exercise, index) => {
                exerciseHTML += `
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h6 class="font-semibold mb-3">Soal ${index + 1} (${exercise.points} poin)</h6>
                        <p class="mb-4">${exercise.question}</p>
                        <div class="space-y-2">
                `;
                
                exercise.options.forEach((option, optionIndex) => {
                    exerciseHTML += `
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="radio" name="question_${index}" value="${optionIndex}" 
                                   onchange="recordAnswer(${index}, ${optionIndex})" 
                                   class="text-purple-600 focus:ring-purple-500">
                            <span>${String.fromCharCode(65 + optionIndex)}. ${option}</span>
                        </label>
                    `;
                });
                
                exerciseHTML += `
                        </div>
                    </div>
                `;
            });
            
            exerciseHTML += `
                <div class="flex justify-center">
                    <button onclick="submitExercise()" 
                            class="bg-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-purple-700 transition duration-300">
                        Submit Jawaban
                    </button>
                </div>
            </div>`;
            
            document.getElementById('exerciseContent').innerHTML = exerciseHTML;
        }

        function recordAnswer(questionIndex, answerIndex) {
            exerciseAnswers[questionIndex] = answerIndex;
            
            // Auto-update material completion when first answer is recorded
            if (currentUser.type === 'student' && Object.keys(exerciseAnswers).length === 1) {
                const materialKey = `${currentMaterial.class}_${currentMaterial.id}`;
                const progress = userProgress[currentUser.name];
                
                // Mark material as started (partial completion)
                if (!progress.completedMaterials.includes(materialKey)) {
                    // Don't add to completed yet, but update dashboard to show progress
                    updateDashboard();
                }
            }
        }

        function submitExercise() {
            if (!currentExercise || !currentMaterial || currentUser.type !== 'student') return;
            
            if (Object.keys(exerciseAnswers).length !== currentExercise.length) {
                alert('Harap jawab semua soal terlebih dahulu!');
                return;
            }
            
            const materialKey = `${currentMaterial.class}_${currentMaterial.id}`;
            const progress = userProgress[currentUser.name];
            
            // Double check if already completed (prevent race conditions)
            if (progress.completedExercises.includes(materialKey)) {
                alert('Latihan ini sudah pernah diselesaikan!');
                return;
            }
            
            let totalScore = 0;
            let correctAnswers = 0;
            let results = [];
            
            currentExercise.forEach((exercise, index) => {
                const isCorrect = exerciseAnswers[index] === exercise.correct;
                if (isCorrect) {
                    totalScore += exercise.points;
                    correctAnswers++;
                }
                
                results.push({
                    questionIndex: index,
                    question: exercise.question,
                    userAnswer: exerciseAnswers[index],
                    correctAnswer: exercise.correct,
                    options: exercise.options,
                    points: exercise.points,
                    isCorrect: isCorrect
                });
            });
            
            // Save score and mark as completed
            progress.exerciseScores[materialKey] = totalScore;
            progress.completedExercises.push(materialKey);
            
            // Mark material as completed (for dashboard counter)
            if (!progress.completedMaterials.includes(materialKey)) {
                progress.completedMaterials.push(materialKey);
            }
            
            progress.lastActive = new Date().toISOString();
            
            // Add to recent activity
            addRecentActivity(`Menyelesaikan latihan: ${materialData[currentMaterial.class][currentMaterial.id].title} (Skor: ${totalScore})`);
            
            // Automatically show detailed results
            showExerciseResults(results, correctAnswers, totalScore);
            
            updateDashboard();
        }

        function updateDashboard() {
            if (currentUser.type !== 'student') return;
            
            const progress = userProgress[currentUser.name];
            const totalMaterials = currentUser.class === 'XI' ? 7 : 4;
            
            document.getElementById('totalMaterials').textContent = totalMaterials;
            document.getElementById('completedMaterials').textContent = progress.completedMaterials.length;
            
            // Calculate average score
            const scores = Object.values(progress.exerciseScores);
            const averageScore = scores.length > 0 ? Math.round(scores.reduce((a, b) => a + b, 0) / scores.length) : 0;
            document.getElementById('averageScore').textContent = averageScore > 0 ? averageScore : '-';
            
            // Update student data for teacher view
            const studentData = allStudentData.find(s => s.name === currentUser.name);
            if (studentData) {
                studentData.completedMaterials = progress.completedMaterials.length;
                studentData.averageScore = averageScore;
                studentData.lastActive = new Date().toLocaleDateString('id-ID');
            }
        }

        function addRecentActivity(activity) {
            const recentActivityDiv = document.getElementById('recentActivity');
            const activityHTML = `
                <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    <div class="flex-1">
                        <p class="text-sm text-gray-800">${activity}</p>
                        <p class="text-xs text-gray-500">${new Date().toLocaleString('id-ID')}</p>
                    </div>
                </div>
            `;
            
            if (recentActivityDiv.innerHTML.includes('Belum ada aktivitas')) {
                recentActivityDiv.innerHTML = activityHTML;
            } else {
                recentActivityDiv.insertAdjacentHTML('afterbegin', activityHTML);
            }
        }

        function showExerciseResults(results, correctAnswers, totalScore) {
            // Get exercise code for display
            const exerciseCode = getExerciseCode(currentMaterial.class, currentMaterial.id);
            
            // Create score summary
            const isPass = totalScore >= 70;
            const scoreSummaryHTML = `
                <div class="text-center mb-6">
                    <div class="inline-flex items-center justify-center w-20 h-20 rounded-full ${isPass ? 'bg-green-100' : 'bg-red-100'} mb-4">
                        <span class="text-3xl">${isPass ? 'üéâ' : 'üìö'}</span>
                    </div>
                    <h4 class="text-2xl font-bold ${isPass ? 'text-green-600' : 'text-red-600'} mb-2">
                        ${isPass ? 'Selamat! Anda Lulus!' : 'Perlu Belajar Lagi'}
                    </h4>
                    <div class="bg-blue-100 p-3 rounded-lg mb-4">
                        <p class="text-lg font-bold text-blue-800">Kode Nilai: ${exerciseCode}</p>
                        <p class="text-sm text-blue-600">${materialData[currentMaterial.class][currentMaterial.id].title}</p>
                    </div>
                    <div class="grid grid-cols-3 gap-4 max-w-md mx-auto">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <p class="text-2xl font-bold text-blue-600">${correctAnswers}</p>
                            <p class="text-sm text-blue-600">Jawaban Benar</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg">
                            <p class="text-2xl font-bold text-purple-600">${totalScore}</p>
                            <p class="text-sm text-purple-600">Total Skor</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-2xl font-bold text-gray-600">${results.length}</p>
                            <p class="text-sm text-gray-600">Total Soal</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Create detailed results
            let detailedHTML = '<div class="space-y-6">';
            
            results.forEach((result, index) => {
                const userAnswerLetter = result.userAnswer !== undefined ? String.fromCharCode(65 + result.userAnswer) : '-';
                const correctAnswerLetter = String.fromCharCode(65 + result.correctAnswer);
                const userAnswerText = result.userAnswer !== undefined ? result.options[result.userAnswer] : 'Tidak dijawab';
                const correctAnswerText = result.options[result.correctAnswer];
                
                detailedHTML += `
                    <div class="border rounded-lg p-6 ${result.isCorrect ? 'border-green-200 bg-green-50' : 'border-red-200 bg-red-50'}">
                        <div class="flex items-start justify-between mb-4">
                            <h5 class="font-semibold text-lg">Soal ${index + 1}</h5>
                            <div class="flex items-center space-x-2">
                                <span class="text-2xl">${result.isCorrect ? '‚úÖ' : '‚ùå'}</span>
                                <span class="font-semibold ${result.isCorrect ? 'text-green-600' : 'text-red-600'}">
                                    ${result.isCorrect ? result.points : 0}/${result.points} poin
                                </span>
                            </div>
                        </div>
                        
                        <p class="text-gray-800 mb-4">${result.question}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="space-y-2">
                                <p class="font-semibold text-gray-700">Jawaban Anda:</p>
                                <div class="p-3 rounded-lg ${result.isCorrect ? 'bg-green-100 border border-green-300' : 'bg-red-100 border border-red-300'}">
                                    <p class="font-medium">${userAnswerLetter}. ${userAnswerText}</p>
                                </div>
                            </div>
                            
                            <div class="space-y-2">
                                <p class="font-semibold text-gray-700">Jawaban Benar:</p>
                                <div class="p-3 rounded-lg bg-green-100 border border-green-300">
                                    <p class="font-medium text-green-800">${correctAnswerLetter}. ${correctAnswerText}</p>
                                </div>
                            </div>
                        </div>
                        
                        ${!result.isCorrect ? `
                            <div class="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                                <p class="text-sm text-yellow-800">
                                    <strong>üí° Tips:</strong> Pelajari kembali materi ini dan perhatikan konsep dasarnya.
                                </p>
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            detailedHTML += '</div>';
            
            // Update modal content
            document.getElementById('scoreSummary').innerHTML = scoreSummaryHTML;
            document.getElementById('detailedResults').innerHTML = detailedHTML;
            
            // Show results modal
            document.getElementById('resultsModal').classList.remove('hidden');
        }

        function closeResults() {
            document.getElementById('resultsModal').classList.add('hidden');
        }

        function getExerciseCode(className, materialId) {
            // Generate exercise codes based on class and material
            const exerciseCodes = {
                'XI': {
                    'bab1a': 'XI-B1A-L1', // Kelas XI, Bab 1A, Latihan 1
                    'bab1b': 'XI-B1B-L2', // Kelas XI, Bab 1B, Latihan 2
                    'bab2a': 'XI-B2A-L3', // Kelas XI, Bab 2A, Latihan 3
                    'bab2b': 'XI-B2B-L4', // Kelas XI, Bab 2B, Latihan 4
                    'bab3a': 'XI-B3A-L5', // Kelas XI, Bab 3A, Latihan 5
                    'bab3b': 'XI-B3B-L6', // Kelas XI, Bab 3B, Latihan 6
                    'bab3c': 'XI-B3C-L7'  // Kelas XI, Bab 3C, Latihan 7
                },
                'XII': {
                    'bab1a': 'XII-B1A-L1', // Kelas XII, Bab 1A, Latihan 1
                    'bab1b': 'XII-B1B-L2', // Kelas XII, Bab 1B, Latihan 2
                    'bab2a': 'XII-B2A-L3', // Kelas XII, Bab 2A, Latihan 3
                    'bab2b': 'XII-B2B-L4'  // Kelas XII, Bab 2B, Latihan 4
                }
            };
            
            return exerciseCodes[className][materialId] || 'UNKNOWN';
        }



        let filteredStudentData = [];

        function loadStudentProgress() {
            filteredStudentData = [...allStudentData];
            filterStudentProgress();
        }

        function filterStudentProgress() {
            const classFilter = document.getElementById('filterClass').value;
            const programFilter = document.getElementById('filterProgram').value;
            
            filteredStudentData = allStudentData.filter(student => {
                const matchClass = !classFilter || student.class === classFilter;
                const matchProgram = !programFilter || student.program === programFilter;
                return matchClass && matchProgram;
            });
            
            updateProgressTable();
            updateProgressSummary();
        }

        function updateProgressTable() {
            const tableBody = document.getElementById('studentProgressTable');
            
            if (filteredStudentData.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="7" class="px-6 py-4 text-center text-gray-500">Tidak ada data siswa sesuai filter</td></tr>';
                return;
            }
            
            let tableHTML = '';
            filteredStudentData.forEach(student => {
                const totalMaterials = student.class === 'XI' ? 7 : 4;
                const progressPercentage = Math.round((student.completedMaterials / totalMaterials) * 100);
                
                tableHTML += `
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${student.name}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.class}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.program}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.completedMaterials}/${totalMaterials}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center">
                                <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                    <div class="bg-purple-600 h-2 rounded-full progress-bar" style="width: ${progressPercentage}%"></div>
                                </div>
                                <span class="text-sm text-gray-600">${progressPercentage}%</span>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.averageScore > 0 ? student.averageScore : '-'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${student.lastActive}</td>
                    </tr>
                `;
            });
            
            tableBody.innerHTML = tableHTML;
        }

        function updateProgressSummary() {
            const totalStudents = filteredStudentData.length;
            const activeStudents = filteredStudentData.filter(s => s.completedMaterials > 0).length;
            
            let totalCompletion = 0;
            let totalScore = 0;
            let studentsWithScores = 0;
            
            filteredStudentData.forEach(student => {
                const maxMaterials = student.class === 'XI' ? 7 : 4;
                totalCompletion += (student.completedMaterials / maxMaterials) * 100;
                
                if (student.averageScore > 0) {
                    totalScore += student.averageScore;
                    studentsWithScores++;
                }
            });
            
            const avgCompletion = totalStudents > 0 ? Math.round(totalCompletion / totalStudents) : 0;
            const avgScore = studentsWithScores > 0 ? Math.round(totalScore / studentsWithScores) : 0;
            
            document.getElementById('totalStudents').textContent = totalStudents;
            document.getElementById('activeStudents').textContent = activeStudents;
            document.getElementById('avgCompletion').textContent = avgCompletion + '%';
            document.getElementById('avgScore').textContent = avgScore;
        }

        function downloadProgressPDF() {
            if (currentUser.type !== 'teacher') {
                alert('Fitur ini hanya tersedia untuk guru!');
                return;
            }
            
            if (filteredStudentData.length === 0) {
                alert('Tidak ada data untuk diunduh!');
                return;
            }
            
            // Create a simple HTML content for PDF
            let htmlContent = `
                <html>
                <head>
                    <title>Progress Siswa SMKN 10 Jeneponto</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h1 { color: #7c3aed; text-align: center; }
                        h2 { color: #7c3aed; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                        th { background-color: #7c3aed; color: white; }
                        tr:nth-child(even) { background-color: #f9f9f9; }
                        .summary { display: flex; justify-content: space-around; margin: 20px 0; }
                        .summary div { text-align: center; padding: 10px; background: #f0f0f0; border-radius: 5px; }
                    </style>
                </head>
                <body>
                    <h1>SMKN 10 JENEPONTO</h1>
                    <h2 style="text-align: center;">Laporan Progress Pembelajaran Matematika</h2>
                    <p style="text-align: center;">Tanggal: ${new Date().toLocaleDateString('id-ID')}</p>
                    
                    <div class="summary">
                        <div><strong>${document.getElementById('totalStudents').textContent}</strong><br>Total Siswa</div>
                        <div><strong>${document.getElementById('activeStudents').textContent}</strong><br>Siswa Aktif</div>
                        <div><strong>${document.getElementById('avgCompletion').textContent}</strong><br>Rata-rata Penyelesaian</div>
                        <div><strong>${document.getElementById('avgScore').textContent}</strong><br>Rata-rata Nilai</div>
                    </div>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Nama Siswa</th>
                                <th>Kelas</th>
                                <th>Program Keahlian</th>
                                <th>Materi Selesai</th>
                                <th>Progress</th>
                                <th>Rata-rata Nilai</th>
                                <th>Terakhir Aktif</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            
            filteredStudentData.forEach((student, index) => {
                const totalMaterials = student.class === 'XI' ? 7 : 4;
                const progressPercentage = Math.round((student.completedMaterials / totalMaterials) * 100);
                
                htmlContent += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${student.name}</td>
                        <td>${student.class}</td>
                        <td>${student.program}</td>
                        <td>${student.completedMaterials}/${totalMaterials}</td>
                        <td>${progressPercentage}%</td>
                        <td>${student.averageScore > 0 ? student.averageScore : '-'}</td>
                        <td>${student.lastActive}</td>
                    </tr>
                `;
            });
            
            htmlContent += `
                        </tbody>
                    </table>
                    <p style="text-align: center; margin-top: 30px; color: #666;">
                        Generated by Aplikasi Matematika SMKN 10 Jeneponto
                    </p>
                </body>
                </html>
            `;
            
            // Open in new window for printing
            const printWindow = window.open('', '_blank');
            printWindow.document.write(htmlContent);
            printWindow.document.close();
            printWindow.focus();
            
            // Auto print
            setTimeout(() => {
                printWindow.print();
            }, 500);
        }

        function downloadProgressExcel() {
            if (currentUser.type !== 'teacher') {
                alert('Fitur ini hanya tersedia untuk guru!');
                return;
            }
            
            if (filteredStudentData.length === 0) {
                alert('Tidak ada data untuk diunduh!');
                return;
            }
            
            // Create CSV content with BOM for proper UTF-8 encoding
            let csvContent = "\uFEFF"; // BOM for UTF-8
            csvContent += "No,Nama Siswa,Kelas,Program Keahlian,Materi Selesai,Total Materi,Progress (%),Rata-rata Nilai,Terakhir Aktif\n";
            
            filteredStudentData.forEach((student, index) => {
                const totalMaterials = student.class === 'XI' ? 7 : 4;
                const progressPercentage = Math.round((student.completedMaterials / totalMaterials) * 100);
                
                csvContent += `${index + 1},"${student.name}",${student.class},"${student.program}",${student.completedMaterials},${totalMaterials},${progressPercentage}%,${student.averageScore > 0 ? student.averageScore : '-'},"${student.lastActive}"\n`;
            });
            
            // Create blob and download
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            const url = URL.createObjectURL(blob);
            
            link.setAttribute("href", url);
            const fileName = `Progress_Siswa_SMKN10_${new Date().toISOString().split('T')[0]}.csv`;
            link.setAttribute("download", fileName);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Clean up
            URL.revokeObjectURL(url);
            
            alert('File Excel (CSV) berhasil diunduh!\n\nFile dapat dibuka dengan Microsoft Excel atau Google Sheets.');
        }

        // Initialize with dashboard view
        showSection('dashboard');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9781b048348ace33',t:'MTc1NjY5NzQyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
