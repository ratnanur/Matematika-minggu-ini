<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pembelajaran Anuitas Interaktif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .payment-animation {
            animation: slideIn 0.8s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .correct-answer {
            background-color: #10b981 !important;
            color: white !important;
        }
        
        .wrong-answer {
            background-color: #ef4444 !important;
            color: white !important;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg text-white py-6">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl font-bold text-center">📚 Pembelajaran Anuitas</h1>
            <p class="text-center mt-2 text-lg opacity-90">Pelajari konsep anuitas dengan mudah dan menyenangkan!</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-center space-x-8 py-4">
                <button onclick="showSection('materi')" class="nav-btn px-6 py-2 rounded-full bg-blue-500 text-white font-medium hover:bg-blue-600 transition">
                    📖 Materi
                </button>
                <button onclick="showSection('rumus')" class="nav-btn px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition">
                    🧮 Rumus
                </button>
                <button onclick="showSection('contoh')" class="nav-btn px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition">
                    💡 Contoh
                </button>
                <button onclick="showSection('animasi')" class="nav-btn px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition">
                    🎬 Animasi
                </button>
                <button onclick="showSection('kuis')" class="nav-btn px-6 py-2 rounded-full bg-gray-200 text-gray-700 font-medium hover:bg-gray-300 transition">
                    🎯 Kuis
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        
        <!-- Materi Section -->
        <section id="materi" class="section-content">
            <div class="bg-white rounded-xl shadow-lg p-8 card-hover">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">📚 Pengertian Anuitas</h2>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold text-blue-600 mb-4">Apa itu Anuitas?</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Anuitas adalah pembayaran yang dilakukan secara berkala dalam jumlah yang sama dan dalam jangka waktu tertentu. 
                            Pembayaran ini biasanya dilakukan setiap bulan, triwulan, atau tahunan.
                        </p>
                        
                        <h4 class="font-semibold text-gray-800 mb-2">Karakteristik Anuitas:</h4>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li>Pembayaran dilakukan secara berkala</li>
                            <li>Jumlah pembayaran sama setiap periode</li>
                            <li>Memiliki jangka waktu tertentu</li>
                            <li>Melibatkan bunga atau tingkat pengembalian</li>
                        </ul>
                    </div>
                    
                    <div class="bg-gradient-to-br from-blue-50 to-purple-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-gray-800 mb-4">Contoh Anuitas dalam Kehidupan:</h4>
                        <div class="space-y-3">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🏠</span>
                                <span class="text-gray-700">Cicilan rumah (KPR)</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🚗</span>
                                <span class="text-gray-700">Cicilan kendaraan</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">💰</span>
                                <span class="text-gray-700">Tabungan pensiun</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">🎓</span>
                                <span class="text-gray-700">Asuransi pendidikan</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 bg-yellow-50 border-l-4 border-yellow-400 p-4">
                    <h4 class="font-semibold text-yellow-800 mb-2">💡 Mengapa Anuitas Penting?</h4>
                    <p class="text-yellow-700">
                        Memahami anuitas membantu kita merencanakan keuangan dengan lebih baik, 
                        menghitung cicilan yang tepat, dan membuat keputusan investasi yang cerdas.
                    </p>
                </div>
            </div>
        </section>

        <!-- Rumus Section -->
        <section id="rumus" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 card-hover">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">🧮 Rumus Anuitas</h2>
                
                <div class="space-y-8">
                    <!-- Rumus Anuitas Biasa -->
                    <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-8 rounded-xl border-2 border-green-200 shadow-lg">
                        <h3 class="text-2xl font-bold text-green-700 mb-6 text-center">🧮 Rumus Anuitas Biasa</h3>
                        
                        <!-- Visual Formula -->
                        <div class="bg-white p-6 rounded-lg shadow-inner mb-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl font-bold text-green-800 mb-2">A = P × 
                                    <span class="inline-block bg-yellow-100 px-2 py-1 rounded border-2 border-yellow-300">
                                        <span class="text-blue-600">i(1+i)ⁿ</span>
                                        <hr class="border-gray-400 my-1">
                                        <span class="text-red-600">(1+i)ⁿ - 1</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Penjelasan Variabel dengan Icon -->
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">A</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Anuitas (Angsuran)</div>
                                        <div class="text-sm text-gray-600">Pembayaran tetap setiap periode</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold">P</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Pokok Pinjaman</div>
                                        <div class="text-sm text-gray-600">Jumlah uang yang dipinjam</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">i</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Suku Bunga</div>
                                        <div class="text-sm text-gray-600">Bunga per periode (desimal)</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold">n</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Jumlah Periode</div>
                                        <div class="text-sm text-gray-600">Berapa kali pembayaran</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contoh Sederhana -->
                        <div class="mt-6 bg-green-100 p-4 rounded-lg border-l-4 border-green-500">
                            <h4 class="font-semibold text-green-800 mb-2">💡 Kapan Digunakan?</h4>
                            <p class="text-green-700">Rumus ini digunakan ketika kita sudah tahu <strong>berapa besar pinjaman</strong> dan ingin mencari <strong>berapa angsuran per bulan</strong>.</p>
                            <p class="text-green-700 mt-1"><strong>Contoh:</strong> "Pinjam Rp 100 juta, berapa cicilan per bulan?"</p>
                        </div>
                    </div>
                    
                    <!-- Rumus Nilai Sekarang -->
                    <div class="bg-gradient-to-br from-purple-50 to-indigo-100 p-8 rounded-xl border-2 border-purple-200 shadow-lg">
                        <h3 class="text-2xl font-bold text-purple-700 mb-6 text-center">💰 Rumus Nilai Sekarang</h3>
                        
                        <!-- Visual Formula -->
                        <div class="bg-white p-6 rounded-lg shadow-inner mb-6">
                            <div class="text-center mb-4">
                                <div class="text-4xl font-bold text-purple-800 mb-2">P = A × 
                                    <span class="inline-block bg-yellow-100 px-2 py-1 rounded border-2 border-yellow-300">
                                        <span class="text-red-600">(1+i)ⁿ - 1</span>
                                        <hr class="border-gray-400 my-1">
                                        <span class="text-blue-600">i(1+i)ⁿ</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Penjelasan Variabel dengan Icon -->
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold">P</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Nilai Sekarang</div>
                                        <div class="text-sm text-gray-600">Berapa nilai uang hari ini</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold">A</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Anuitas (Angsuran)</div>
                                        <div class="text-sm text-gray-600">Pembayaran yang sudah diketahui</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold">i</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Suku Bunga</div>
                                        <div class="text-sm text-gray-600">Bunga per periode (desimal)</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center space-x-3 bg-white p-3 rounded-lg">
                                    <div class="w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold">n</div>
                                    <div>
                                        <div class="font-semibold text-gray-800">Jumlah Periode</div>
                                        <div class="text-sm text-gray-600">Berapa kali pembayaran</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contoh Sederhana -->
                        <div class="mt-6 bg-purple-100 p-4 rounded-lg border-l-4 border-purple-500">
                            <h4 class="font-semibold text-purple-800 mb-2">💡 Kapan Digunakan?</h4>
                            <p class="text-purple-700">Rumus ini digunakan ketika kita sudah tahu <strong>berapa angsuran per bulan</strong> dan ingin mencari <strong>berapa besar pinjaman yang bisa diambil</strong>.</p>
                            <p class="text-purple-700 mt-1"><strong>Contoh:</strong> "Mampu bayar Rp 2 juta per bulan, bisa pinjam berapa?"</p>
                        </div>
                    </div>
                    
                    <!-- Perbandingan Visual -->
                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border-2 border-yellow-300">
                        <h3 class="text-xl font-bold text-orange-700 mb-4 text-center">🔄 Perbedaan Kedua Rumus</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="text-center">
                                <div class="text-3xl mb-2">🧮</div>
                                <h4 class="font-semibold text-green-600 mb-2">Rumus Anuitas</h4>
                                <p class="text-sm text-gray-700">Diketahui: Pinjaman (P)</p>
                                <p class="text-sm text-gray-700">Dicari: Angsuran (A)</p>
                                <div class="mt-2 text-xs bg-green-100 p-2 rounded">
                                    "Berapa cicilan per bulan?"
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl mb-2">💰</div>
                                <h4 class="font-semibold text-purple-600 mb-2">Rumus Nilai Sekarang</h4>
                                <p class="text-sm text-gray-700">Diketahui: Angsuran (A)</p>
                                <p class="text-sm text-gray-700">Dicari: Pinjaman (P)</p>
                                <div class="mt-2 text-xs bg-purple-100 p-2 rounded">
                                    "Bisa pinjam berapa?"
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">Kalkulator Anuitas</h3>
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <div class="grid md:grid-cols-3 gap-4 mb-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nilai Sekarang (P)</label>
                                <input type="number" id="principal" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Contoh: 100000000">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Bunga per Tahun (%)</label>
                                <input type="number" id="interest" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Contoh: 12">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Periode (Tahun)</label>
                                <input type="number" id="periods" class="w-full px-3 py-2 border border-gray-300 rounded-md" placeholder="Contoh: 10">
                            </div>
                        </div>
                        <button onclick="calculateAnnuity()" class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition">
                            Hitung Anuitas
                        </button>
                        <div id="result" class="mt-4 p-4 bg-white rounded-md hidden">
                            <h4 class="font-semibold text-gray-800">Hasil Perhitungan:</h4>
                            <p id="annuity-result" class="text-lg font-bold text-blue-600"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contoh Section -->
        <section id="contoh" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 card-hover">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">💡 Contoh Soal Anuitas</h2>
                
                <div class="space-y-8">
                    <!-- Contoh 1 -->
                    <div class="bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg border-l-4 border-green-400">
                        <h3 class="text-xl font-semibold text-green-700 mb-4">🏠 Contoh 1: Cicilan Rumah (KPR)</h3>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2"><strong>Soal:</strong></p>
                            <p class="text-gray-700">
                                Pak Ahmad ingin membeli rumah seharga Rp 500.000.000 dengan uang muka Rp 100.000.000. 
                                Sisanya akan dicicil selama 15 tahun dengan bunga 9% per tahun. 
                                Berapa besar cicilan yang harus dibayar setiap bulan?
                            </p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-md">
                            <p class="text-gray-700 mb-4 text-lg font-semibold">📝 <strong>Langkah Penyelesaian:</strong></p>
                            
                            <!-- Langkah 1: Identifikasi Data -->
                            <div class="mb-6 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-semibold text-blue-700 mb-3 flex items-center">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">1</span>
                                    Identifikasi Data yang Diketahui
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-blue-600">🏠</span>
                                            <span class="text-gray-700">Harga rumah: <strong>Rp 500.000.000</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-green-600">💰</span>
                                            <span class="text-gray-700">Uang muka: <strong>Rp 100.000.000</strong></span>
                                        </div>
                                    </div>
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-purple-600">📅</span>
                                            <span class="text-gray-700">Jangka waktu: <strong>15 tahun</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-orange-600">📈</span>
                                            <span class="text-gray-700">Bunga: <strong>9% per tahun</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 2: Hitung Variabel -->
                            <div class="mb-6 bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                                <h4 class="font-semibold text-yellow-700 mb-3 flex items-center">
                                    <span class="bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">2</span>
                                    Hitung Variabel untuk Rumus
                                </h4>
                                <div class="space-y-3">
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Pinjaman (P)</span>
                                            <span class="font-mono text-blue-600">= Rp 500.000.000 - Rp 100.000.000 = <strong>Rp 400.000.000</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Bunga per bulan (i)</span>
                                            <span class="font-mono text-purple-600">= 9% ÷ 12 = 0,75% = <strong>0,0075</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Periode (n)</span>
                                            <span class="font-mono text-orange-600">= 15 × 12 = <strong>180 bulan</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 3: Masukkan ke Rumus -->
                            <div class="mb-6 bg-green-50 p-4 rounded-lg border-l-4 border-green-400">
                                <h4 class="font-semibold text-green-700 mb-3 flex items-center">
                                    <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">3</span>
                                    Masukkan ke Rumus Anuitas
                                </h4>
                                <div class="bg-white p-4 rounded border">
                                    <div class="text-center mb-3">
                                        <div class="text-lg font-bold text-gray-800">A = P × 
                                            <span class="inline-block bg-yellow-100 px-2 py-1 rounded border">
                                                <span class="text-blue-600">i(1+i)ⁿ</span>
                                                <hr class="border-gray-400 my-1">
                                                <span class="text-red-600">(1+i)ⁿ - 1</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="space-y-2 text-sm">
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 400.000.000 × [0,0075(1,0075)¹⁸⁰] / [(1,0075)¹⁸⁰ - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 400.000.000 × [0,0075 × 3,8068] / [3,8068 - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 400.000.000 × 0,028551 / 2,8068</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 400.000.000 × 0,010172</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Hasil Akhir -->
                            <div class="bg-gradient-to-r from-green-100 to-blue-100 p-6 rounded-lg border-2 border-green-400">
                                <div class="text-center">
                                    <div class="text-3xl mb-2">🎯</div>
                                    <h4 class="text-xl font-bold text-green-700 mb-2">Hasil Akhir</h4>
                                    <div class="text-3xl font-bold text-green-600 mb-2">A = Rp 4.069.000</div>
                                    <p class="text-gray-700">Pak Ahmad harus membayar cicilan <strong>Rp 4.069.000 per bulan</strong> selama 15 tahun</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contoh 2 -->
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border-l-4 border-purple-400">
                        <h3 class="text-xl font-semibold text-purple-700 mb-4">🚗 Contoh 2: Cicilan Mobil</h3>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2"><strong>Soal:</strong></p>
                            <p class="text-gray-700">
                                Sari ingin membeli mobil seharga Rp 200.000.000 dengan uang muka Rp 50.000.000. 
                                Sisanya akan dicicil selama 5 tahun dengan bunga 12% per tahun. 
                                Berapa total yang harus dibayar Sari?
                            </p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-md">
                            <p class="text-gray-700 mb-4 text-lg font-semibold">📝 <strong>Langkah Penyelesaian:</strong></p>
                            
                            <!-- Langkah 1: Identifikasi Data -->
                            <div class="mb-6 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-semibold text-blue-700 mb-3 flex items-center">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">1</span>
                                    Identifikasi Data yang Diketahui
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-blue-600">🚗</span>
                                            <span class="text-gray-700">Harga mobil: <strong>Rp 200.000.000</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-green-600">💰</span>
                                            <span class="text-gray-700">Uang muka: <strong>Rp 50.000.000</strong></span>
                                        </div>
                                    </div>
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-purple-600">📅</span>
                                            <span class="text-gray-700">Jangka waktu: <strong>5 tahun</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-orange-600">📈</span>
                                            <span class="text-gray-700">Bunga: <strong>12% per tahun</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 2: Hitung Variabel -->
                            <div class="mb-6 bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                                <h4 class="font-semibold text-yellow-700 mb-3 flex items-center">
                                    <span class="bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">2</span>
                                    Hitung Variabel untuk Rumus
                                </h4>
                                <div class="space-y-3">
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Pinjaman (P)</span>
                                            <span class="font-mono text-blue-600">= Rp 200.000.000 - Rp 50.000.000 = <strong>Rp 150.000.000</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Bunga per bulan (i)</span>
                                            <span class="font-mono text-purple-600">= 12% ÷ 12 = 1% = <strong>0,01</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Periode (n)</span>
                                            <span class="font-mono text-orange-600">= 5 × 12 = <strong>60 bulan</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 3: Masukkan ke Rumus -->
                            <div class="mb-6 bg-green-50 p-4 rounded-lg border-l-4 border-green-400">
                                <h4 class="font-semibold text-green-700 mb-3 flex items-center">
                                    <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">3</span>
                                    Masukkan ke Rumus Anuitas
                                </h4>
                                <div class="bg-white p-4 rounded border">
                                    <div class="text-center mb-3">
                                        <div class="text-lg font-bold text-gray-800">A = P × 
                                            <span class="inline-block bg-yellow-100 px-2 py-1 rounded border">
                                                <span class="text-blue-600">i(1+i)ⁿ</span>
                                                <hr class="border-gray-400 my-1">
                                                <span class="text-red-600">(1+i)ⁿ - 1</span>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="space-y-2 text-sm">
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 150.000.000 × [0,01(1,01)⁶⁰] / [(1,01)⁶⁰ - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 150.000.000 × [0,01 × 1,8167] / [1,8167 - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 150.000.000 × 0,018167 / 0,8167</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 150.000.000 × 0,02224</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Hasil Akhir -->
                            <div class="bg-gradient-to-r from-purple-100 to-pink-100 p-6 rounded-lg border-2 border-purple-400">
                                <div class="text-center mb-4">
                                    <div class="text-3xl mb-2">🎯</div>
                                    <h4 class="text-xl font-bold text-purple-700 mb-2">Hasil Perhitungan</h4>
                                    <div class="text-2xl font-bold text-purple-600 mb-2">A = Rp 3.336.000 per bulan</div>
                                </div>
                                
                                <!-- Total Pembayaran -->
                                <div class="bg-white p-4 rounded-lg border-2 border-purple-200">
                                    <h5 class="font-semibold text-purple-700 mb-3">💰 Total yang Harus Dibayar Sari:</h5>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-700">Uang muka</span>
                                            <span class="font-mono text-green-600">Rp 50.000.000</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-700">Cicilan (Rp 3.336.000 × 60 bulan)</span>
                                            <span class="font-mono text-blue-600">Rp 200.160.000</span>
                                        </div>
                                        <hr class="border-purple-200">
                                        <div class="flex justify-between items-center text-lg font-bold">
                                            <span class="text-purple-700">Total Pembayaran</span>
                                            <span class="text-purple-600">Rp 250.160.000</span>
                                        </div>
                                        <div class="text-sm text-gray-600 text-center mt-2">
                                            <span class="bg-yellow-100 px-2 py-1 rounded">
                                                Bunga yang dibayar: Rp 50.160.000
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contoh 3 -->
                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-lg border-l-4 border-yellow-400">
                        <h3 class="text-xl font-semibold text-yellow-700 mb-4">💰 Contoh 3: Tabungan Pensiun</h3>
                        <div class="mb-4">
                            <p class="text-gray-700 mb-2"><strong>Soal:</strong></p>
                            <p class="text-gray-700">
                                Budi ingin memiliki dana pensiun Rp 1.000.000.000 dalam 20 tahun. 
                                Jika bunga tabungan 8% per tahun, berapa yang harus ditabung setiap bulan?
                            </p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-md">
                            <p class="text-gray-700 mb-4 text-lg font-semibold">📝 <strong>Langkah Penyelesaian:</strong></p>
                            
                            <!-- Info Khusus -->
                            <div class="mb-6 bg-orange-50 p-4 rounded-lg border-l-4 border-orange-400">
                                <div class="flex items-center space-x-2 mb-2">
                                    <span class="text-2xl">ℹ️</span>
                                    <h4 class="font-semibold text-orange-700">Catatan Penting</h4>
                                </div>
                                <p class="text-orange-700">
                                    Ini adalah kasus <strong>nilai masa depan anuitas</strong> - kita tahu target uang di masa depan, 
                                    dan ingin mencari berapa yang harus ditabung setiap bulan.
                                </p>
                            </div>
                            
                            <!-- Langkah 1: Identifikasi Data -->
                            <div class="mb-6 bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                                <h4 class="font-semibold text-blue-700 mb-3 flex items-center">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">1</span>
                                    Identifikasi Data yang Diketahui
                                </h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-blue-600">🎯</span>
                                            <span class="text-gray-700">Target dana pensiun: <strong>Rp 1.000.000.000</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-purple-600">📅</span>
                                            <span class="text-gray-700">Jangka waktu: <strong>20 tahun</strong></span>
                                        </div>
                                    </div>
                                    <div class="space-y-2">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-orange-600">📈</span>
                                            <span class="text-gray-700">Bunga tabungan: <strong>8% per tahun</strong></span>
                                        </div>
                                        <div class="flex items-center space-x-2">
                                            <span class="text-green-600">❓</span>
                                            <span class="text-gray-700">Yang dicari: <strong>Tabungan per bulan</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 2: Hitung Variabel -->
                            <div class="mb-6 bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                                <h4 class="font-semibold text-yellow-700 mb-3 flex items-center">
                                    <span class="bg-yellow-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">2</span>
                                    Hitung Variabel untuk Rumus
                                </h4>
                                <div class="space-y-3">
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Target (FV)</span>
                                            <span class="font-mono text-blue-600"><strong>Rp 1.000.000.000</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Bunga per bulan (i)</span>
                                            <span class="font-mono text-purple-600">= 8% ÷ 12 = 0,67% = <strong>0,0067</strong></span>
                                        </div>
                                    </div>
                                    <div class="bg-white p-3 rounded border">
                                        <div class="flex items-center justify-between">
                                            <span class="text-gray-700">Periode (n)</span>
                                            <span class="font-mono text-orange-600">= 20 × 12 = <strong>240 bulan</strong></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 3: Pilih Rumus -->
                            <div class="mb-6 bg-purple-50 p-4 rounded-lg border-l-4 border-purple-400">
                                <h4 class="font-semibold text-purple-700 mb-3 flex items-center">
                                    <span class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">3</span>
                                    Pilih Rumus yang Tepat
                                </h4>
                                <div class="bg-white p-4 rounded border">
                                    <p class="text-gray-700 mb-3">Karena kita mencari <strong>tabungan per bulan</strong> untuk mencapai <strong>target di masa depan</strong>, 
                                    maka gunakan rumus <strong>Nilai Masa Depan Anuitas</strong>:</p>
                                    <div class="text-center mb-3">
                                        <div class="text-lg font-bold text-gray-800">A = FV × 
                                            <span class="inline-block bg-yellow-100 px-2 py-1 rounded border">
                                                <span class="text-blue-600">i</span>
                                                <hr class="border-gray-400 my-1">
                                                <span class="text-red-600">(1+i)ⁿ - 1</span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Langkah 4: Hitung -->
                            <div class="mb-6 bg-green-50 p-4 rounded-lg border-l-4 border-green-400">
                                <h4 class="font-semibold text-green-700 mb-3 flex items-center">
                                    <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">4</span>
                                    Masukkan ke Rumus dan Hitung
                                </h4>
                                <div class="bg-white p-4 rounded border">
                                    <div class="space-y-2 text-sm">
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 1.000.000.000 × 0,0067 / [(1,0067)²⁴⁰ - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 1.000.000.000 × 0,0067 / [4,9268 - 1]</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 1.000.000.000 × 0,0067 / 3,9268</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 6.700.000 / 3,9268</div>
                                        <div class="font-mono bg-gray-50 p-2 rounded">A = 1.706.000</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Hasil Akhir -->
                            <div class="bg-gradient-to-r from-yellow-100 to-orange-100 p-6 rounded-lg border-2 border-yellow-400">
                                <div class="text-center mb-4">
                                    <div class="text-3xl mb-2">🎯</div>
                                    <h4 class="text-xl font-bold text-yellow-700 mb-2">Hasil Perhitungan</h4>
                                    <div class="text-3xl font-bold text-yellow-600 mb-2">A = Rp 1.706.000 per bulan</div>
                                    <p class="text-gray-700">Budi harus menabung <strong>Rp 1.706.000 setiap bulan</strong> selama 20 tahun</p>
                                </div>
                                
                                <!-- Ringkasan -->
                                <div class="bg-white p-4 rounded-lg border-2 border-yellow-200 mt-4">
                                    <h5 class="font-semibold text-yellow-700 mb-3">📊 Ringkasan Tabungan Pensiun Budi:</h5>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-700">Tabungan per bulan</span>
                                            <span class="font-mono text-blue-600">Rp 1.706.000</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-700">Total setoran (20 tahun)</span>
                                            <span class="font-mono text-green-600">Rp 409.440.000</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-700">Bunga yang diperoleh</span>
                                            <span class="font-mono text-purple-600">Rp 590.560.000</span>
                                        </div>
                                        <hr class="border-yellow-200">
                                        <div class="flex justify-between items-center text-lg font-bold">
                                            <span class="text-yellow-700">Dana pensiun (target)</span>
                                            <span class="text-yellow-600">Rp 1.000.000.000</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Animasi Section -->
        <section id="animasi" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 card-hover">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">🎬 Simulasi Alur Angsuran</h2>
                
                <div class="mb-8">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">Pengaturan Simulasi</h3>
                    <div class="grid md:grid-cols-4 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Pinjaman (Rp)</label>
                            <input type="number" id="sim-principal" value="100000000" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Bunga (%/tahun)</label>
                            <input type="number" id="sim-interest" value="12" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Periode (tahun)</label>
                            <input type="number" id="sim-years" value="5" class="w-full px-3 py-2 border border-gray-300 rounded-md">
                        </div>
                        <div class="flex items-end">
                            <button onclick="startSimulation()" class="w-full bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition">
                                Mulai Simulasi
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="simulation-area" class="hidden">
                    <div class="bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-lg mb-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-4">Informasi Pinjaman</h4>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-blue-600" id="loan-amount">Rp 0</div>
                                <div class="text-sm text-gray-600">Total Pinjaman</div>
                            </div>
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-green-600" id="monthly-payment">Rp 0</div>
                                <div class="text-sm text-gray-600">Angsuran/Bulan</div>
                            </div>
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold text-purple-600" id="total-payment">Rp 0</div>
                                <div class="text-sm text-gray-600">Total Pembayaran</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold text-gray-800 mb-4">Alur Pembayaran</h4>
                        <div class="bg-gray-100 p-4 rounded-lg">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium text-gray-700">Progress Pembayaran</span>
                                <span class="text-sm font-medium text-gray-700" id="progress-text">0%</span>
                            </div>
                            <div class="w-full bg-gray-300 rounded-full h-4">
                                <div class="bg-gradient-to-r from-green-400 to-blue-500 h-4 rounded-full progress-bar" id="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="payment-timeline" class="space-y-2 max-h-96 overflow-y-auto">
                        <!-- Payment items will be added here -->
                    </div>
                    
                    <div class="mt-6 text-center">
                        <button onclick="pauseSimulation()" id="pause-btn" class="bg-yellow-500 text-white px-6 py-2 rounded-md hover:bg-yellow-600 transition mr-2">
                            ⏸️ Pause
                        </button>
                        <button onclick="resetSimulation()" class="bg-red-500 text-white px-6 py-2 rounded-md hover:bg-red-600 transition">
                            🔄 Reset
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kuis Section -->
        <section id="kuis" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-8 card-hover">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">🎯 Kuis Anuitas</h2>
                
                <div id="quiz-start" class="text-center">
                    <div class="mb-8">
                        <div class="text-6xl mb-4">🏆</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Uji Pemahaman Anda!</h3>
                        <p class="text-gray-600 mb-6">
                            Kuis ini terdiri dari 10 soal pilihan ganda dengan total skor 100 poin. 
                            Setiap soal bernilai 10 poin. Selamat mengerjakan!
                        </p>
                        <button onclick="startQuiz()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:from-purple-600 hover:to-pink-600 transition">
                            Mulai Kuis
                        </button>
                    </div>
                </div>
                
                <div id="quiz-content" class="hidden">
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <div class="text-lg font-semibold text-gray-700">
                                Soal <span id="current-question">1</span> dari <span id="total-questions">10</span>
                            </div>
                            <div class="text-lg font-semibold text-gray-600">
                                Progress: <span id="question-progress">10%</span>
                            </div>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-gradient-to-r from-purple-400 to-pink-400 h-3 rounded-full transition-all duration-300" id="quiz-progress" style="width: 10%"></div>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4" id="question-text"></h3>
                        <div class="space-y-3" id="answer-options">
                            <!-- Answer options will be populated here -->
                        </div>
                    </div>
                    
                    <div class="flex justify-center">
                        <button onclick="nextQuestion()" id="next-btn" class="bg-blue-500 text-white px-8 py-3 rounded-md hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Selanjutnya →
                        </button>
                    </div>
                </div>
                
                <div id="quiz-result" class="hidden">
                    <!-- Header Hasil -->
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4" id="result-emoji">🎉</div>
                        <h3 class="text-3xl font-bold text-gray-800 mb-4">Kuis Selesai!</h3>
                        <div class="text-4xl font-bold mb-4" id="final-score-display">0/100</div>
                        <p class="text-xl text-gray-600 mb-6" id="result-message"></p>
                    </div>

                    <!-- Laporan Detail -->
                    <div class="space-y-8">
                        <!-- Ringkasan Skor -->
                        <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl border-2 border-blue-200">
                            <h4 class="text-2xl font-bold text-blue-700 mb-6 text-center">📊 Ringkasan Hasil Kuis</h4>
                            
                            <div class="grid md:grid-cols-4 gap-4 mb-6">
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-3xl font-bold text-green-600" id="correct-count">0</div>
                                    <div class="text-sm text-gray-600">Jawaban Benar</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-3xl font-bold text-red-600" id="wrong-count">0</div>
                                    <div class="text-sm text-gray-600">Jawaban Salah</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-3xl font-bold text-blue-600" id="accuracy-rate">0%</div>
                                    <div class="text-sm text-gray-600">Tingkat Akurasi</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-3xl font-bold text-purple-600" id="grade-letter">A</div>
                                    <div class="text-sm text-gray-600">Nilai Huruf</div>
                                </div>
                            </div>

                            <!-- Progress Bar Visual -->
                            <div class="bg-white p-4 rounded-lg">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm font-medium text-gray-700">Pencapaian Skor</span>
                                    <span class="text-sm font-medium text-gray-700" id="score-percentage">0%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-6">
                                    <div class="bg-gradient-to-r from-green-400 to-blue-500 h-6 rounded-full flex items-center justify-center text-white text-sm font-bold" id="score-bar" style="width: 0%">
                                        <span id="score-bar-text">0/100</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Analisis per Kategori -->
                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border-2 border-green-200">
                            <h4 class="text-2xl font-bold text-green-700 mb-6 text-center">🎯 Analisis Pemahaman Materi</h4>
                            
                            <div class="grid md:grid-cols-3 gap-4" id="category-analysis">
                                <!-- Category analysis will be populated here -->
                            </div>
                        </div>

                        <!-- Detail Jawaban per Soal -->
                        <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border-2 border-yellow-200">
                            <h4 class="text-2xl font-bold text-orange-700 mb-6 text-center">📝 Review Jawaban Detail</h4>
                            
                            <div class="space-y-4" id="detailed-answers">
                                <!-- Detailed answers will be populated here -->
                            </div>
                        </div>

                        <!-- Rekomendasi Belajar -->
                        <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border-2 border-purple-200">
                            <h4 class="text-2xl font-bold text-purple-700 mb-6 text-center">💡 Rekomendasi Belajar</h4>
                            
                            <div id="study-recommendations" class="space-y-4">
                                <!-- Study recommendations will be populated here -->
                            </div>
                        </div>

                        <!-- Statistik Waktu -->
                        <div class="bg-gradient-to-r from-indigo-50 to-blue-50 p-6 rounded-xl border-2 border-indigo-200">
                            <h4 class="text-2xl font-bold text-indigo-700 mb-6 text-center">⏱️ Statistik Waktu Pengerjaan</h4>
                            
                            <div class="grid md:grid-cols-3 gap-4">
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-2xl font-bold text-indigo-600" id="total-time">0:00</div>
                                    <div class="text-sm text-gray-600">Total Waktu</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-2xl font-bold text-blue-600" id="avg-time">0:00</div>
                                    <div class="text-sm text-gray-600">Rata-rata per Soal</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg text-center shadow-md">
                                    <div class="text-2xl font-bold text-purple-600" id="completion-date">-</div>
                                    <div class="text-sm text-gray-600">Tanggal Selesai</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tombol Aksi -->
                        <div class="text-center space-x-4">
                            <button onclick="printReport()" class="bg-green-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-green-600 transition">
                                🖨️ Cetak Laporan
                            </button>
                            <button onclick="downloadReport()" class="bg-blue-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-blue-600 transition">
                                📥 Download PDF
                            </button>
                            <button onclick="shareResults()" class="bg-purple-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-purple-600 transition">
                                📤 Bagikan Hasil
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="gradient-bg text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg opacity-90">© 2024 Pembelajaran Anuitas Interaktif</p>
            <p class="opacity-75 mt-2">Belajar matematika keuangan dengan mudah dan menyenangkan! 📚✨</p>
        </div>
    </footer>

    <script>
        // Global variables
        let currentSection = 'materi';
        let simulationInterval;
        let simulationPaused = false;
        let currentPayment = 0;
        
        // Quiz variables
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let quizStartTime = null;
        let questionStartTime = null;
        let questionTimes = [];
        let quizQuestions = [
            {
                question: "Apa yang dimaksud dengan anuitas?",
                options: [
                    "Pembayaran yang dilakukan sekali saja",
                    "Pembayaran berkala dengan jumlah yang sama",
                    "Pembayaran dengan jumlah yang berbeda setiap periode",
                    "Pembayaran yang tidak memiliki jangka waktu",
                    "Pembayaran yang hanya dilakukan pada akhir periode"
                ],
                correct: 1,
                category: "Konsep Dasar",
                explanation: "Anuitas adalah pembayaran berkala dengan jumlah yang sama dalam periode tertentu, seperti cicilan rumah atau mobil."
            },
            {
                question: "Pak Ahmad meminjam uang dengan bunga 12% per tahun dan akan dicicil setiap bulan. Dalam rumus anuitas, berapa nilai 'i' (tingkat bunga per periode) yang harus digunakan?",
                options: [
                    "i = 0,01 (1% per bulan)",
                    "i = 0,12 (12% tetap)",
                    "i = 1,2 (120% per bulan)",
                    "i = 0,012 (1,2% per bulan)",
                    "i = 12 (tanpa diubah ke desimal)"
                ],
                correct: 0,
                category: "Perhitungan Rumus",
                explanation: "Bunga tahunan 12% dibagi 12 bulan = 1% per bulan = 0,01 dalam bentuk desimal."
            },
            {
                question: "Pak Budi meminjam Rp 50.000.000 dengan bunga 12% per tahun selama 5 tahun. Jika bunga per bulan adalah 1%, berapa periode pembayaran?",
                options: [
                    "5 periode",
                    "12 periode",
                    "50 periode",
                    "60 periode",
                    "120 periode"
                ],
                correct: 3,
                category: "Perhitungan Rumus",
                explanation: "Periode pembayaran = 5 tahun × 12 bulan = 60 bulan atau 60 periode pembayaran."
            },
            {
                question: "Manakah yang BUKAN contoh anuitas dalam kehidupan sehari-hari?",
                options: [
                    "Cicilan rumah (KPR)",
                    "Cicilan kendaraan",
                    "Pembayaran gaji bulanan",
                    "Tabungan pensiun",
                    "Asuransi pendidikan"
                ],
                correct: 2,
                category: "Konsep Dasar",
                explanation: "Pembayaran gaji bulanan bukan anuitas karena kita yang menerima uang, bukan membayar secara berkala."
            },
            {
                question: "Jika tingkat bunga tahunan adalah 15%, berapa tingkat bunga per bulan?",
                options: [
                    "1,25%",
                    "1,5%",
                    "15%",
                    "0,15%",
                    "12,5%"
                ],
                correct: 0,
                category: "Perhitungan Rumus",
                explanation: "Bunga per bulan = 15% ÷ 12 bulan = 1,25% per bulan."
            },
            {
                question: "Dalam perhitungan anuitas, jika periode pembayaran bertambah, maka besar anuitas per periode akan:",
                options: [
                    "Bertambah besar",
                    "Berkurang",
                    "Tetap sama",
                    "Menjadi nol",
                    "Tidak dapat ditentukan"
                ],
                correct: 1,
                category: "Konsep Dasar",
                explanation: "Semakin lama periode pembayaran, semakin kecil angsuran per periode karena beban dibagi dalam waktu yang lebih panjang."
            },
            {
                question: "Sari ingin memiliki dana Rp 100.000.000 dalam 10 tahun. Jika bunga 8% per tahun, konsep anuitas apa yang digunakan?",
                options: [
                    "Anuitas biasa",
                    "Anuitas jatuh tempo",
                    "Nilai sekarang anuitas",
                    "Nilai masa depan anuitas",
                    "Anuitas perpetual"
                ],
                correct: 3,
                category: "Jenis Anuitas",
                explanation: "Karena mencari tabungan rutin untuk mencapai target di masa depan, maka menggunakan konsep nilai masa depan anuitas."
            },
            {
                question: "Ibu Sari mampu membayar cicilan Rp 3.000.000 per bulan. Dengan bunga 15% per tahun selama 10 tahun, berapa maksimal uang yang bisa dipinjam Ibu Sari? (Gunakan rumus nilai sekarang anuitas)",
                options: [
                    "Rp 150.000.000 (3 juta × 50 bulan)",
                    "Rp 360.000.000 (3 juta × 120 bulan)",
                    "Rp 180.500.000 (hasil perhitungan rumus)",
                    "Rp 200.000.000 (perkiraan bulat)",
                    "Rp 300.000.000 (maksimal bank)"
                ],
                correct: 2,
                category: "Penerapan Rumus",
                explanation: "Menggunakan rumus nilai sekarang anuitas dengan A=3juta, i=1,25%, n=120 menghasilkan sekitar Rp 180,5 juta."
            },
            {
                question: "Jika seseorang membayar cicilan Rp 2.000.000 per bulan selama 3 tahun dengan bunga 18% per tahun, berapa total yang dibayar?",
                options: [
                    "Rp 60.000.000",
                    "Rp 72.000.000",
                    "Rp 54.000.000",
                    "Rp 36.000.000",
                    "Rp 48.000.000"
                ],
                correct: 1,
                category: "Penerapan Rumus",
                explanation: "Total pembayaran = Rp 2.000.000 × 36 bulan = Rp 72.000.000."
            },
            {
                question: "Keuntungan utama sistem anuitas dalam pembayaran cicilan adalah:",
                options: [
                    "Pembayaran yang tidak teratur",
                    "Jumlah pembayaran yang selalu berubah",
                    "Kemudahan perencanaan keuangan",
                    "Tidak ada bunga yang dikenakan",
                    "Periode pembayaran yang tidak terbatas"
                ],
                correct: 2,
                category: "Konsep Dasar",
                explanation: "Anuitas memudahkan perencanaan keuangan karena jumlah pembayaran tetap setiap periode."
            }
        ];
        
        // Navigation functions
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            event.target.classList.remove('bg-gray-200', 'text-gray-700');
            event.target.classList.add('bg-blue-500', 'text-white');
            
            currentSection = sectionName;
        }
        
        // Calculator function
        function calculateAnnuity() {
            const principal = parseFloat(document.getElementById('principal').value);
            const annualRate = parseFloat(document.getElementById('interest').value) / 100;
            const years = parseFloat(document.getElementById('periods').value);
            
            if (!principal || !annualRate || !years) {
                alert('Mohon isi semua field dengan benar!');
                return;
            }
            
            const monthlyRate = annualRate / 12;
            const totalPayments = years * 12;
            
            const annuity = principal * (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) / 
                           (Math.pow(1 + monthlyRate, totalPayments) - 1);
            
            document.getElementById('result').classList.remove('hidden');
            document.getElementById('annuity-result').textContent = 
                `Anuitas per bulan: Rp ${annuity.toLocaleString('id-ID', {maximumFractionDigits: 0})}`;
        }
        
        // Simulation functions
        function startSimulation() {
            const principal = parseFloat(document.getElementById('sim-principal').value);
            const annualRate = parseFloat(document.getElementById('sim-interest').value) / 100;
            const years = parseFloat(document.getElementById('sim-years').value);
            
            if (!principal || !annualRate || !years) {
                alert('Mohon isi semua field dengan benar!');
                return;
            }
            
            const monthlyRate = annualRate / 12;
            const totalPayments = years * 12;
            
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, totalPayments)) / 
                                  (Math.pow(1 + monthlyRate, totalPayments) - 1);
            
            const totalPayment = monthlyPayment * totalPayments;
            
            // Update display
            document.getElementById('loan-amount').textContent = `Rp ${principal.toLocaleString('id-ID')}`;
            document.getElementById('monthly-payment').textContent = `Rp ${monthlyPayment.toLocaleString('id-ID', {maximumFractionDigits: 0})}`;
            document.getElementById('total-payment').textContent = `Rp ${totalPayment.toLocaleString('id-ID', {maximumFractionDigits: 0})}`;
            
            document.getElementById('simulation-area').classList.remove('hidden');
            
            // Reset simulation
            currentPayment = 0;
            document.getElementById('payment-timeline').innerHTML = '';
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('progress-text').textContent = '0%';
            
            // Start animation
            simulationPaused = false;
            simulationInterval = setInterval(() => {
                if (!simulationPaused && currentPayment < totalPayments) {
                    currentPayment++;
                    addPaymentItem(currentPayment, monthlyPayment, totalPayments);
                    updateProgress(currentPayment, totalPayments);
                    
                    if (currentPayment >= totalPayments) {
                        clearInterval(simulationInterval);
                        showCompletionMessage();
                    }
                }
            }, 500);
        }
        
        function addPaymentItem(paymentNum, amount, total) {
            const timeline = document.getElementById('payment-timeline');
            const item = document.createElement('div');
            item.className = 'payment-animation bg-gradient-to-r from-green-100 to-blue-100 p-3 rounded-lg border-l-4 border-green-400 flex justify-between items-center';
            item.innerHTML = `
                <div>
                    <span class="font-semibold text-gray-800">Pembayaran ${paymentNum}</span>
                    <span class="text-sm text-gray-600 ml-2">(${((paymentNum/total)*100).toFixed(1)}% selesai)</span>
                </div>
                <div class="font-bold text-green-600">Rp ${amount.toLocaleString('id-ID', {maximumFractionDigits: 0})}</div>
            `;
            timeline.appendChild(item);
            timeline.scrollTop = timeline.scrollHeight;
        }
        
        function updateProgress(current, total) {
            const percentage = (current / total) * 100;
            document.getElementById('progress-bar').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${percentage.toFixed(1)}%`;
        }
        
        function pauseSimulation() {
            simulationPaused = !simulationPaused;
            const btn = document.getElementById('pause-btn');
            btn.textContent = simulationPaused ? '▶️ Lanjut' : '⏸️ Pause';
        }
        
        function resetSimulation() {
            clearInterval(simulationInterval);
            currentPayment = 0;
            simulationPaused = false;
            document.getElementById('payment-timeline').innerHTML = '';
            document.getElementById('progress-bar').style.width = '0%';
            document.getElementById('progress-text').textContent = '0%';
            document.getElementById('pause-btn').textContent = '⏸️ Pause';
        }
        
        function showCompletionMessage() {
            const timeline = document.getElementById('payment-timeline');
            const completion = document.createElement('div');
            completion.className = 'bg-gradient-to-r from-yellow-100 to-green-100 p-4 rounded-lg border-2 border-green-400 text-center';
            completion.innerHTML = `
                <div class="text-2xl mb-2">🎉</div>
                <div class="font-bold text-green-700 text-lg">Pembayaran Selesai!</div>
                <div class="text-sm text-gray-600">Semua cicilan telah lunas</div>
            `;
            timeline.appendChild(completion);
        }
        
        // Quiz functions
        function startQuiz() {
            document.getElementById('quiz-start').classList.add('hidden');
            document.getElementById('quiz-content').classList.remove('hidden');
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            questionTimes = [];
            quizStartTime = new Date();
            questionStartTime = new Date();
            showQuestion();
        }
        
        function showQuestion() {
            // Record time for previous question
            if (currentQuestionIndex > 0) {
                const timeSpent = new Date() - questionStartTime;
                questionTimes[currentQuestionIndex - 1] = timeSpent;
            }
            questionStartTime = new Date();
            
            const question = quizQuestions[currentQuestionIndex];
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            document.getElementById('total-questions').textContent = quizQuestions.length;
            document.getElementById('question-progress').textContent = `${Math.round(((currentQuestionIndex + 1) / quizQuestions.length) * 100)}%`;
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('answer-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition';
                button.innerHTML = `<span class="font-semibold text-blue-600">${String.fromCharCode(65 + index)}.</span> ${option}`;
                button.onclick = () => selectAnswer(index, button);
                optionsContainer.appendChild(button);
            });
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            document.getElementById('quiz-progress').style.width = `${progress}%`;
            
            // Update navigation buttons
            document.getElementById('next-btn').disabled = true; // Disable until answer is selected
            document.getElementById('next-btn').textContent = 
                currentQuestionIndex === quizQuestions.length - 1 ? 'Selesai' : 'Selanjutnya →';
        }
        
        function selectAnswer(answerIndex, button) {
            // Disable all buttons to prevent multiple selections
            document.querySelectorAll('#answer-options button').forEach(btn => {
                btn.disabled = true;
                btn.classList.remove('border-blue-500', 'bg-blue-100', 'hover:border-blue-300', 'hover:bg-blue-50');
            });
            
            const correctIndex = quizQuestions[currentQuestionIndex].correct;
            const buttons = document.querySelectorAll('#answer-options button');
            
            // Show correct answer in green
            buttons[correctIndex].classList.add('correct-answer');
            
            // If wrong answer, show it in red
            if (answerIndex !== correctIndex) {
                button.classList.add('wrong-answer');
                
                // Show explanation
                setTimeout(() => {
                    const explanation = document.createElement('div');
                    explanation.className = 'mt-4 p-4 bg-red-50 border-l-4 border-red-400 rounded-lg fade-in';
                    explanation.innerHTML = `
                        <div class="flex items-center space-x-2 mb-2">
                            <span class="text-red-600 text-xl">❌</span>
                            <span class="font-semibold text-red-700">Jawaban Salah</span>
                        </div>
                        <p class="text-red-700">Jawaban yang benar adalah: <strong>${String.fromCharCode(65 + correctIndex)}. ${quizQuestions[currentQuestionIndex].options[correctIndex]}</strong></p>
                    `;
                    document.getElementById('answer-options').appendChild(explanation);
                }, 500);
            } else {
                // Show success message for correct answer
                setTimeout(() => {
                    const success = document.createElement('div');
                    success.className = 'mt-4 p-4 bg-green-50 border-l-4 border-green-400 rounded-lg fade-in';
                    success.innerHTML = `
                        <div class="flex items-center space-x-2">
                            <span class="text-green-600 text-xl">✅</span>
                            <span class="font-semibold text-green-700">Jawaban Benar!</span>
                        </div>
                    `;
                    document.getElementById('answer-options').appendChild(success);
                }, 500);
            }
            
            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
            
            // Enable next button after a short delay
            setTimeout(() => {
                document.getElementById('next-btn').disabled = false;
            }, 1000);
        }
        
        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === undefined) {
                alert('Silakan pilih jawaban terlebih dahulu!');
                return;
            }
            
            // Check if answer is correct
            if (userAnswers[currentQuestionIndex] === quizQuestions[currentQuestionIndex].correct) {
                score += 10;
            }
            
            if (currentQuestionIndex === quizQuestions.length - 1) {
                showQuizResult();
            } else {
                currentQuestionIndex++;
                showQuestion();
                // Disable next button until answer is selected
                document.getElementById('next-btn').disabled = true;
            }
        }
        
        function previousQuestion() {
            // Disable previous button functionality to prevent going back
            return;
        }
        
        function showQuizResult() {
            // Record time for last question
            const timeSpent = new Date() - questionStartTime;
            questionTimes[currentQuestionIndex] = timeSpent;
            
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            
            // Generate detailed report
            generateDetailedReport();
        }
        
        function generateDetailedReport() {
            const totalQuestions = quizQuestions.length;
            const correctAnswers = userAnswers.filter((answer, index) => answer === quizQuestions[index].correct).length;
            const wrongAnswers = totalQuestions - correctAnswers;
            const accuracyRate = Math.round((correctAnswers / totalQuestions) * 100);
            
            // Update basic stats
            document.getElementById('final-score-display').textContent = `${score}/100`;
            document.getElementById('correct-count').textContent = correctAnswers;
            document.getElementById('wrong-count').textContent = wrongAnswers;
            document.getElementById('accuracy-rate').textContent = `${accuracyRate}%`;
            document.getElementById('score-percentage').textContent = `${score}%`;
            document.getElementById('score-bar').style.width = `${score}%`;
            document.getElementById('score-bar-text').textContent = `${score}/100`;
            
            // Grade calculation
            let gradeLetter;
            if (score >= 90) gradeLetter = "A";
            else if (score >= 80) gradeLetter = "B";
            else if (score >= 70) gradeLetter = "C";
            else if (score >= 60) gradeLetter = "D";
            else gradeLetter = "E";
            document.getElementById('grade-letter').textContent = gradeLetter;
            
            // Result message and emoji
            let message, emoji;
            if (score >= 90) {
                message = "Luar biasa! Anda menguasai materi anuitas dengan sangat baik! 🌟";
                emoji = "🏆";
            } else if (score >= 80) {
                message = "Bagus sekali! Pemahaman Anda tentang anuitas sudah baik! 👏";
                emoji = "🎉";
            } else if (score >= 70) {
                message = "Cukup baik! Terus belajar untuk meningkatkan pemahaman! 📚";
                emoji = "👍";
            } else if (score >= 60) {
                message = "Lumayan! Masih perlu belajar lebih giat lagi! 💪";
                emoji = "😊";
            } else {
                message = "Jangan menyerah! Pelajari kembali materi dan coba lagi! 🔥";
                emoji = "💪";
            }
            
            document.getElementById('result-message').textContent = message;
            document.getElementById('result-emoji').textContent = emoji;
            
            // Generate category analysis
            generateCategoryAnalysis();
            
            // Generate detailed answers
            generateDetailedAnswers();
            
            // Generate study recommendations
            generateStudyRecommendations();
            
            // Generate time statistics
            generateTimeStatistics();
        }
        
        function generateCategoryAnalysis() {
            const categories = {};
            
            // Group questions by category
            quizQuestions.forEach((question, index) => {
                if (!categories[question.category]) {
                    categories[question.category] = { total: 0, correct: 0 };
                }
                categories[question.category].total++;
                if (userAnswers[index] === question.correct) {
                    categories[question.category].correct++;
                }
            });
            
            const categoryContainer = document.getElementById('category-analysis');
            categoryContainer.innerHTML = '';
            
            Object.keys(categories).forEach(category => {
                const data = categories[category];
                const percentage = Math.round((data.correct / data.total) * 100);
                
                let colorClass = 'bg-red-100 border-red-400 text-red-700';
                let icon = '❌';
                if (percentage >= 80) {
                    colorClass = 'bg-green-100 border-green-400 text-green-700';
                    icon = '✅';
                } else if (percentage >= 60) {
                    colorClass = 'bg-yellow-100 border-yellow-400 text-yellow-700';
                    icon = '⚠️';
                }
                
                const categoryDiv = document.createElement('div');
                categoryDiv.className = `${colorClass} p-4 rounded-lg border-2`;
                categoryDiv.innerHTML = `
                    <div class="text-center">
                        <div class="text-2xl mb-2">${icon}</div>
                        <h5 class="font-bold text-lg mb-2">${category}</h5>
                        <div class="text-2xl font-bold mb-1">${data.correct}/${data.total}</div>
                        <div class="text-sm">${percentage}% Benar</div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div class="bg-current h-2 rounded-full" style="width: ${percentage}%"></div>
                        </div>
                    </div>
                `;
                categoryContainer.appendChild(categoryDiv);
            });
        }
        
        function generateDetailedAnswers() {
            const detailedContainer = document.getElementById('detailed-answers');
            detailedContainer.innerHTML = '';
            
            quizQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                const timeSpent = questionTimes[index] ? Math.round(questionTimes[index] / 1000) : 0;
                
                const answerDiv = document.createElement('div');
                answerDiv.className = `border-2 rounded-lg p-4 ${isCorrect ? 'border-green-400 bg-green-50' : 'border-red-400 bg-red-50'}`;
                
                answerDiv.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <h5 class="font-bold text-lg ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                            ${isCorrect ? '✅' : '❌'} Soal ${index + 1} - ${question.category}
                        </h5>
                        <div class="text-sm text-gray-600 bg-white px-2 py-1 rounded">
                            ⏱️ ${timeSpent}s
                        </div>
                    </div>
                    
                    <p class="text-gray-800 mb-3 font-medium">${question.question}</p>
                    
                    <div class="grid md:grid-cols-2 gap-4 mb-3">
                        <div>
                            <div class="text-sm font-semibold ${isCorrect ? 'text-green-700' : 'text-red-700'} mb-1">
                                Jawaban Anda:
                            </div>
                            <div class="bg-white p-2 rounded border">
                                ${String.fromCharCode(65 + userAnswer)}. ${question.options[userAnswer]}
                            </div>
                        </div>
                        
                        <div>
                            <div class="text-sm font-semibold text-green-700 mb-1">
                                Jawaban Benar:
                            </div>
                            <div class="bg-green-100 p-2 rounded border border-green-300">
                                ${String.fromCharCode(65 + question.correct)}. ${question.options[question.correct]}
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-400">
                        <div class="text-sm font-semibold text-blue-700 mb-1">💡 Penjelasan:</div>
                        <div class="text-blue-700">${question.explanation}</div>
                    </div>
                `;
                
                detailedContainer.appendChild(answerDiv);
            });
        }
        
        function generateStudyRecommendations() {
            const recommendationsContainer = document.getElementById('study-recommendations');
            recommendationsContainer.innerHTML = '';
            
            // Analyze weak areas
            const categories = {};
            quizQuestions.forEach((question, index) => {
                if (!categories[question.category]) {
                    categories[question.category] = { total: 0, correct: 0 };
                }
                categories[question.category].total++;
                if (userAnswers[index] === question.correct) {
                    categories[question.category].correct++;
                }
            });
            
            const weakAreas = Object.keys(categories).filter(category => {
                const percentage = (categories[category].correct / categories[category].total) * 100;
                return percentage < 70;
            });
            
            if (weakAreas.length === 0) {
                recommendationsContainer.innerHTML = `
                    <div class="bg-green-100 p-4 rounded-lg border-2 border-green-400 text-center">
                        <div class="text-3xl mb-2">🎉</div>
                        <h5 class="font-bold text-green-700 text-lg mb-2">Excellent!</h5>
                        <p class="text-green-700">Anda sudah menguasai semua materi dengan baik. Pertahankan dan terus berlatih!</p>
                    </div>
                `;
            } else {
                const recommendations = {
                    "Konsep Dasar": {
                        icon: "📚",
                        title: "Pelajari Konsep Dasar",
                        content: "Baca kembali pengertian anuitas dan contoh-contoh dalam kehidupan sehari-hari. Pahami karakteristik pembayaran berkala."
                    },
                    "Perhitungan Rumus": {
                        icon: "🧮",
                        title: "Latihan Perhitungan",
                        content: "Berlatih mengkonversi bunga tahunan ke bulanan, menghitung periode pembayaran, dan memahami variabel dalam rumus."
                    },
                    "Jenis Anuitas": {
                        icon: "🔄",
                        title: "Pahami Jenis Anuitas",
                        content: "Pelajari perbedaan antara anuitas biasa, nilai sekarang, dan nilai masa depan anuitas beserta kapan menggunakannya."
                    },
                    "Penerapan Rumus": {
                        icon: "💡",
                        title: "Praktik Soal",
                        content: "Kerjakan lebih banyak soal perhitungan anuitas dengan berbagai variasi kasus seperti KPR, cicilan mobil, dan tabungan."
                    }
                };
                
                weakAreas.forEach(area => {
                    const rec = recommendations[area];
                    if (rec) {
                        const recDiv = document.createElement('div');
                        recDiv.className = 'bg-yellow-50 p-4 rounded-lg border-2 border-yellow-400';
                        recDiv.innerHTML = `
                            <div class="flex items-start space-x-3">
                                <div class="text-2xl">${rec.icon}</div>
                                <div>
                                    <h5 class="font-bold text-yellow-700 text-lg mb-2">${rec.title}</h5>
                                    <p class="text-yellow-700 mb-2">${rec.content}</p>
                                    <div class="text-sm text-yellow-600 bg-yellow-100 px-2 py-1 rounded">
                                        Area lemah: ${area} (${categories[area].correct}/${categories[area].total} benar)
                                    </div>
                                </div>
                            </div>
                        `;
                        recommendationsContainer.appendChild(recDiv);
                    }
                });
            }
        }
        
        function generateTimeStatistics() {
            const totalTime = questionTimes.reduce((sum, time) => sum + time, 0);
            const avgTime = totalTime / questionTimes.length;
            const completionDate = new Date();
            
            // Format time
            const formatTime = (ms) => {
                const seconds = Math.round(ms / 1000);
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
            };
            
            document.getElementById('total-time').textContent = formatTime(totalTime);
            document.getElementById('avg-time').textContent = formatTime(avgTime);
            document.getElementById('completion-date').textContent = completionDate.toLocaleDateString('id-ID');
        }
        
        // Report functions
        function printReport() {
            window.print();
        }
        
        function downloadReport() {
            // Create a simple text report
            let reportText = `LAPORAN HASIL KUIS ANUITAS\n`;
            reportText += `================================\n\n`;
            reportText += `Tanggal: ${new Date().toLocaleDateString('id-ID')}\n`;
            reportText += `Skor: ${score}/100\n`;
            reportText += `Jawaban Benar: ${userAnswers.filter((answer, index) => answer === quizQuestions[index].correct).length}/${quizQuestions.length}\n\n`;
            
            reportText += `DETAIL JAWABAN:\n`;
            reportText += `===============\n`;
            quizQuestions.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                reportText += `${index + 1}. ${question.question}\n`;
                reportText += `   Jawaban Anda: ${String.fromCharCode(65 + userAnswers[index])}. ${question.options[userAnswers[index]]}\n`;
                reportText += `   Jawaban Benar: ${String.fromCharCode(65 + question.correct)}. ${question.options[question.correct]}\n`;
                reportText += `   Status: ${isCorrect ? 'BENAR' : 'SALAH'}\n`;
                reportText += `   Penjelasan: ${question.explanation}\n\n`;
            });
            
            // Download as text file
            const blob = new Blob([reportText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Laporan_Kuis_Anuitas_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        function shareResults() {
            const shareText = `Saya baru saja menyelesaikan Kuis Anuitas dengan skor ${score}/100! 🎯\n\nJawaban benar: ${userAnswers.filter((answer, index) => answer === quizQuestions[index].correct).length}/${quizQuestions.length}\nTingkat akurasi: ${Math.round((userAnswers.filter((answer, index) => answer === quizQuestions[index].correct).length / quizQuestions.length) * 100)}%\n\n#BelajarAnutitas #MatematikKeuangan`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Hasil Kuis Anuitas',
                    text: shareText
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('Hasil kuis telah disalin ke clipboard!');
                });
            }
        }
        

        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showSection('materi');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'978b82ab37f3f408',t:'MTc1NjgwMDQxMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
